<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="V_HR_IPBB_INTERNET" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:57:38 ICT 2012.
    -->
    <result column="TIME" property="time" jdbcType="TIMESTAMP" />
    <result column="DIRECTION" property="direction" jdbcType="VARCHAR" />
    <result column="LINK" property="link" jdbcType="VARCHAR" />
    <result column="BAND_WIDTH" property="bandWidth" jdbcType="DECIMAL" />
    <result column="IN_KBIT_SECOND" property="inKbitSecond" jdbcType="DECIMAL" />
    <result column="IN_UTILIZATION" property="inUtilization" jdbcType="DECIMAL" />
    <result column="OUT_KBIT_SECOND" property="outKbitSecond" jdbcType="DECIMAL" />
    <result column="OUT_UTILIZATION" property="outUtilization" jdbcType="DECIMAL" />
    <result column="DELAY_US" property="delayUs" jdbcType="DECIMAL" />
    <result column="DELAY_UK" property="delayUk" jdbcType="DECIMAL" />
    <result column="DELAY_JP" property="delayJp" jdbcType="DECIMAL" />
    <result column="DELAY_HK" property="delayHk" jdbcType="DECIMAL" />
    <result column="DELAY_SING" property="delaySing" jdbcType="DECIMAL" />
    <result column="DELAY_TUOITRE" property="delayTuoitre" jdbcType="DECIMAL" />
    <result column="DELAY_THANHNIEN" property="delayThanhnien" jdbcType="DECIMAL" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:57:38 ICT 2012.
    -->
    insert into V_HR_IPBB_INTERNET (TIME, LINK, BAND_WIDTH, IN_KBIT_SECOND, IN_UTILIZATION,
      OUT_KBIT_SECOND, OUT_UTILIZATION, DELAY_US, DELAY_UK, DELAY_JP, DELAY_HK, DELAY_SING,
      DELAY_TUOITRE, DELAY_THANHNIEN)
    values (#time:TIMESTAMP#, #link:VARCHAR#, #bandWidth:DECIMAL#, #inKbitSecond:DECIMAL#,
      #inUtilization:DECIMAL#, #outKbitSecond:DECIMAL#, #outUtilization:DECIMAL#, #delayUs:DECIMAL#,
      #delayUk:DECIMAL#, #delayJp:DECIMAL#, #delayHk:DECIMAL#, #delaySing:DECIMAL#,
      #delayTuoitre:DECIMAL#, #delayThanhnien:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:57:38 ICT 2012.
    -->
    insert into V_HR_IPBB_INTERNET
    <dynamic prepend="(" >
      <isNotNull prepend="," property="time" >
        TIME
      </isNotNull>
      <isNotNull prepend="," property="link" >
        LINK
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        BAND_WIDTH
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        IN_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        IN_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        OUT_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        OUT_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="delayUs" >
        DELAY_US
      </isNotNull>
      <isNotNull prepend="," property="delayUk" >
        DELAY_UK
      </isNotNull>
      <isNotNull prepend="," property="delayJp" >
        DELAY_JP
      </isNotNull>
      <isNotNull prepend="," property="delayHk" >
        DELAY_HK
      </isNotNull>
      <isNotNull prepend="," property="delaySing" >
        DELAY_SING
      </isNotNull>
      <isNotNull prepend="," property="delayTuoitre" >
        DELAY_TUOITRE
      </isNotNull>
      <isNotNull prepend="," property="delayThanhnien" >
        DELAY_THANHNIEN
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="time" >
        #time:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="link" >
        #link:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        #bandWidth:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        #inKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        #inUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        #outKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        #outUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayUs" >
        #delayUs:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayUk" >
        #delayUk:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayJp" >
        #delayJp:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayHk" >
        #delayHk:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delaySing" >
        #delaySing:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayTuoitre" >
        #delayTuoitre:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayThanhnien" >
        #delayThanhnien:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
   <parameterMap class="java.util.Map" id="filter">
   <parameter property="direction"/>
   <parameter property="link"/>
    <parameter property="startDate" />
    <parameter property="endDate" />
  </parameterMap>
  
   <select id="filter" parameterClass="vn.com.vhc.vmsc2.statistics.web.filter.IPBBFilter" resultMap="ibatorgenerated_BaseResultMap">
	 select * 
    From V_HR_IPBB_INTERNET
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="startDate">
        	TIME <![CDATA[ >= ]]> to_date(#startDate#, 'DD/MM/YYYY HH24:mi:ss')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endDate">
       		TIME <![CDATA[ <= ]]> to_date(#endDate#, 'DD/MM/YYYY HH24:mi:ss') 
      </isNotEmpty>
      <isNotEmpty prepend="and" property="direction">
       	 	UPPER(DIRECTION)  = UPPER(#direction:varchar#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="link">
       	 	UPPER(LINK)  = UPPER(#link:varchar#)
      </isNotEmpty>
    </dynamic>
	 Order by TIME desc
  </select>
</sqlMap>