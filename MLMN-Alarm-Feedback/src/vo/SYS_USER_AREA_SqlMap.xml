<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SYS_USER_AREA" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vo.SysUserArea" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Sep 06 00:40:35 ICT 2013.
    -->
    <result column="USERNAME" property="username" jdbcType="VARCHAR" />
    <result column="DISTRICT" property="district" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="IS_ENABLE" property="isEnable" jdbcType="VARCHAR" />
    <result column="ORDERING" property="ordering" jdbcType="DECIMAL" />
    <result column="ALARM_KPI" property="alarmKpi" jdbcType="DECIMAL" />
    <result column="ID" property="id" jdbcType="DECIMAL" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vo.SysUserArea" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Sep 06 00:40:35 ICT 2013.
    -->
    insert into SYS_USER_AREA (USERNAME, DISTRICT, DESCRIPTION, IS_ENABLE, ORDERING, ALARM_KPI, ID)
    values (#username:VARCHAR#, #district:VARCHAR#, #description:VARCHAR#, #isEnable:VARCHAR#,
      #ordering:DECIMAL#, #alarmKpi:DECIMAL#, #id:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.SysUserArea" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Sep 06 00:40:35 ICT 2013.
    -->
    insert into SYS_USER_AREA
    <dynamic prepend="(" >
      <isNotNull prepend="," property="username" >
        USERNAME
      </isNotNull>
      <isNotNull prepend="," property="district" >
        DISTRICT
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION
      </isNotNull>
      <isNotNull prepend="," property="isEnable" >
        IS_ENABLE
      </isNotNull>
      <isNotNull prepend="," property="ordering" >
        ORDERING
      </isNotNull>
      <isNotNull prepend="," property="alarmKpi" >
        ALARM_KPI
      </isNotNull>
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="username" >
        #username:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="district" >
        #district:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isEnable" >
        #isEnable:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ordering" >
        #ordering:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="alarmKpi" >
        #alarmKpi:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="id" >
        #id:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
 <!--   Lay danh sach district duoc phan quyen cho user --> 
  <procedure id="getDistrictList" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_AL_SET_CONFIGS.PR_USER_AREA_DISTRICT_GET
		      (	
		      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
				#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_GROUPS,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 <!--   Lay danh sach province duoc phan quyen cho user --> 
  <procedure id="getProvinceList" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_AL_SET_CONFIGS.PR_USER_AREA_PROVINCE_GET
		      (	
		      	#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	  <!--   Lay danh sach team duoc phan quyen cho user --> 
  <procedure id="getTeamList" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_AL_SET_CONFIGS.PR_USER_AREA_TEAM_GET
		      (	
		      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
				#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	   <!--   Lay danh sach sub team duoc phan quyen cho user --> 
  <procedure id="getSubTeamList" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_AL_SET_CONFIGS.PR_USER_AREA_GROUPS_GET
		      (	
		      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
				#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	    <!--   Lay danh sach dept  --> 
  	<procedure id="getDeptListParent" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_AL_SET_CONFIGS.PR_DEPT_PARENT_GET
		      (	
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	  
	 <resultMap id="resultMapGetUsersAreaByUsername" class="vo.SysUserArea" >
	    <result column="USERNAME" property="username" jdbcType="VARCHAR" />
	    <result column="DISTRICT" property="district" jdbcType="VARCHAR" />
	    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
	    <result column="IS_ENABLE" property="isEnable" jdbcType="VARCHAR" />
	    <result column="ORDERING" property="ordering" jdbcType="DECIMAL" />
	    <result column="ALARM_KPI" property="alarmKpi" jdbcType="DECIMAL" />
	    <result column="ID" property="id" jdbcType="DECIMAL" />
	    <result column="PROVINCE" property="province" jdbcType="VARCHAR" />
	    <result column="DISTRICT_NAME" property="districtName" jdbcType="VARCHAR" />
	    <result column="REGION" jdbcType="VARCHAR" property="region" />
	  </resultMap>
	 <procedure id="getUsersAreaByUsername" resultMap="resultMapGetUsersAreaByUsername">
	     {
	      call PK_SYS_USERS.GET_USERS_AREA_BY_USERNAME
	      (
	      	  #P_USERNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	  #S_PROVINCE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	  #S_DISTRICT,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	  #S_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	  #P_REGION,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      )
	     }
	 </procedure>
	 <procedure id="getAreaByUsername" resultMap="ibatorgenerated_BaseResultMap">
	     {
	      call PK_SYS_USERS.GET_AREA_BY_USERNAME
	      (
	      	  #P_USERNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#, 
			  #P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      )
	     }
	 </procedure>
	 <procedure id="insertAndUsersAreaByUser">
	     {
	      call PK_SYS_USERS.INSERT_AND_USERS_AREA_BY_USER
	      (
	      	  #P_USERNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	  #P_CHECKEDLIST,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#
	      )
	     }
	 </procedure>
	 
	 <procedure id="deleteSysUsersAreaByCheck">
	     {
	      call PK_SYS_USERS.DELETE_SYS_USERS_AREA_BY_CHECK
	      (
	      	  #P_CHECKEDLIST,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#
	      )
	     }
	 </procedure>
	 
	 <procedure id="getDaiVTArrayList" parameterClass="java.util.Map" resultClass="String">
	      {
		      call PK_SYS_PARAMETER_QLDN.PR_GET_DVT_LIST
		      (	
		      	#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
</sqlMap>