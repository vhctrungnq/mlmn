<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="H_PROVINCES_CODE">
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    <result column="CODE" jdbcType="VARCHAR" property="code" />
    <result column="REGION" jdbcType="VARCHAR" property="region" />
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
    <result column="MARKS" jdbcType="VARCHAR" property="marks" />
    <result column="DISTRICT" jdbcType="VARCHAR" property="district" />
    <result column="LOCATION" jdbcType="VARCHAR" property="location" />
    <result column="BRANCH" jdbcType="VARCHAR" property="branch" />
    <result column="DISTRICT_NAME" jdbcType="VARCHAR" property="districtName" />
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="DEPT" jdbcType="VARCHAR" property="dept" />
    <result column="TEAM" jdbcType="VARCHAR" property="team" />
    <result column="GROUPS" jdbcType="VARCHAR" property="groups" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    select CODE, REGION, PROVINCE, MARKS, DISTRICT, LOCATION, BRANCH, DISTRICT_NAME, ID, DEPT, TEAM,
      GROUPS
    from H_PROVINCES_CODE
    where UPPER(CODE) = UPPER(#code:VARCHAR#)
      and REGION = #region:VARCHAR#
  </select>
  <select id="ibatorgenerated_selectById" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" resultMap="ibatorgenerated_BaseResultMap">
    select CODE, REGION, PROVINCE, MARKS, DISTRICT, LOCATION, BRANCH, DISTRICT_NAME, ID, DEPT, TEAM,
      GROUPS
    from H_PROVINCES_CODE
    where ID = #id:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    delete from H_PROVINCES_CODE
    where CODE = #code:VARCHAR#
      and REGION = #region:VARCHAR#
  </delete>
  
  <delete id="ibatorgenerated_deleteById" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    delete from H_PROVINCES_CODE
    where ID = #id:DECIMAL#
  </delete>
  
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    insert into H_PROVINCES_CODE (CODE, REGION, PROVINCE, MARKS, DISTRICT, LOCATION, BRANCH,
      DISTRICT_NAME, DEPT, TEAM, GROUPS)
    values (#code:VARCHAR#, #region:VARCHAR#, #province:VARCHAR#, #marks:VARCHAR#,
      #district:VARCHAR#, #location:VARCHAR#, #branch:VARCHAR#, #districtName:VARCHAR#, #dept:VARCHAR#, #team:VARCHAR#, #groups:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    insert into H_PROVINCES_CODE
    <dynamic prepend="(">
      <isNotNull prepend="," property="code">
        CODE
      </isNotNull>
      <isNotNull prepend="," property="region">
        REGION
      </isNotNull>
      <isNotNull prepend="," property="province">
        PROVINCE
      </isNotNull>
      <isNotNull prepend="," property="marks">
        MARKS
      </isNotNull>
      <isNotNull prepend="," property="district">
        DISTRICT
      </isNotNull>
      <isNotNull prepend="," property="location">
        LOCATION
      </isNotNull>
      <isNotNull prepend="," property="branch">
        BRANCH
      </isNotNull>
      <isNotNull prepend="," property="districtName">
        DISTRICT_NAME
      </isNotNull>
      <isNotNull prepend="," property="id">
        ID
      </isNotNull>
      <isNotNull prepend="," property="dept">
        DEPT
      </isNotNull>
      <isNotNull prepend="," property="team">
        TEAM
      </isNotNull>
      <isNotNull prepend="," property="groups">
        GROUPS
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="code">
        #code:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="region">
        #region:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="province">
        #province:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="marks">
        #marks:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="district">
        #district:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="location">
        #location:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="branch">
        #branch:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="districtName">
        #districtName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="id">
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="dept">
        #dept:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="team">
        #team:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="groups">
        #groups:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    update H_PROVINCES_CODE
    <dynamic prepend="set">
      <isNotNull prepend="," property="province">
        PROVINCE = #province:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="marks">
        MARKS = #marks:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="district">
        DISTRICT = #district:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="location">
        LOCATION = #location:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="branch">
        BRANCH = #branch:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="districtName">
        DISTRICT_NAME = #districtName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="id">
        ID = #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="dept">
        DEPT = #dept:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="team">
        TEAM = #team:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="groups">
        GROUPS = #groups:VARCHAR#
      </isNotNull>
    </dynamic>
    where CODE = #code:VARCHAR#
      and REGION = #region:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Oct 22 17:44:11 PDT 2013.
    -->
    update H_PROVINCES_CODE
    set PROVINCE = #province:VARCHAR#,
      MARKS = #marks:VARCHAR#,
      DISTRICT = #district:VARCHAR#,
      LOCATION = #location:VARCHAR#,
      BRANCH = #branch:VARCHAR#,
      DISTRICT_NAME = #districtName:VARCHAR#,
      DEPT = #dept:VARCHAR#,
      TEAM = #team:VARCHAR#,
      GROUPS = #groups:VARCHAR#
    where CODE = #code:VARCHAR#
      and REGION = #region:VARCHAR#
  </update>
  <!-- <select id="filter" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" resultMap="ibatorgenerated_BaseResultMap">
    select * from H_PROVINCES_CODE
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="code">
        CODE like '%' || UPPER(#code:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="district">
        DISTRICT like '%' || UPPER(#district:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="location">
        LOCATION like '%' || UPPER(#location:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="province">
        PROVINCE like '%' || UPPER(#province:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="branch">
        BRANCH like '%' || UPPER(#branch:VARCHAR#) || '%'
      </isNotEmpty>
    </dynamic>
    order by BRANCH
  </select> -->
  
  <procedure id="getHProvincesCodeFilter" resultMap="ibatorgenerated_BaseResultMap">
	     {
	      call PK_SYSTEM_MANAGEMENT.GET_H_PROVINCES_CODE_FILTER
	      (
		      #P_DEPT,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      #P_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      #P_BRANCH,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_LOCATION,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_PROVINCE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_DISTRICT,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_COLUMN,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_ORDER,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
			  #P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      )
	     }
	</procedure>
	
	<procedure id="getHProvincesCodeList" resultMap="ibatorgenerated_BaseResultMap">
	      {
	      	call PK_SYSTEM_MANAGEMENT.GET_H_PROVINCES_CODE_LIST
	      	(
	      		#P_PROVINCE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
	
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="provinceList">
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
  </resultMap>
  
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="locationList">
    <result column="LOCATION" jdbcType="VARCHAR" property="location" />
  </resultMap>
  
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="branchList">
    <result column="BRANCH" jdbcType="VARCHAR" property="branch" />
  </resultMap>
  
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="districtList">
    <result column="DISTRICT" jdbcType="VARCHAR" property="district" />
  </resultMap>
  
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="regionList">
    <result column="REGION" jdbcType="VARCHAR" property="region" />
  </resultMap>
  
  <select id="getAllProvince" resultMap="provinceList">
    select distinct(PROVINCE) from H_PROVINCES_CODE WHERE PROVINCE IS NOT NULL
    order by PROVINCE asc
  </select>
  
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" id="locationList">
    <result column="LOCATION" jdbcType="VARCHAR" property="location" />
  </resultMap>
  
  <select id="getAllLocation" resultMap="locationList">
    select distinct(LOCATION) from H_PROVINCES_CODE
    order by LOCATION asc
  </select>
   
  <select id="getAllBranch" resultMap="branchList">
    select distinct(BRANCH) from H_PROVINCES_CODE WHERE BRANCH IS NOT NULL
    order by BRANCH asc
  </select>
    
  <select id="getAllDistrict" resultMap="districtList">
    select distinct(DISTRICT) from H_PROVINCES_CODE
    order by DISTRICT asc
  </select>
  
  <select id="getAllRegion" resultMap="regionList">
    select distinct(REGION) from H_PROVINCES_CODE
    order by REGION asc
  </select>
  
  <select id="getProvinceByRegion" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode"
  																 resultMap="provinceList">
		select distinct(PROVINCE) from H_PROVINCES_CODE WHERE PROVINCE IS NOT NULL and
		   REGION = #region:VARCHAR# order by PROVINCE asc
  </select>
  
  <select id="chekExitToDistrict" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode" resultMap="ibatorgenerated_BaseResultMap">
    select *
    from H_PROVINCES_CODE
    <dynamic prepend="where"> 
      <isNotEmpty prepend="and" property="region">
        UPPER(REGION) = UPPER(#region:VARCHAR#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="district">
        UPPER(DISTRICT)= UPPER(#district:VARCHAR#) 
      </isNotEmpty>
      <isNotEmpty prepend="and" property="location">
        UPPER(LOCATION) = UPPER(#location:VARCHAR#) 
      </isNotEmpty>
      <isNotEmpty prepend="and" property="province">
        UPPER(PROVINCE) =UPPER(#province:VARCHAR#)
      </isNotEmpty>
    </dynamic>
  </select>
  
  <procedure id="checkUniqueProvinceCode" resultMap="ibatorgenerated_BaseResultMap">
 	 {
 	 	call PK_SYSTEM_MANAGEMENT.CHECK_UNIQUE_PROVINCE_CODE
 	 	(
 	 		#P_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
 	 		#P_REGION,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
 	 		#P_ID,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
 	 		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
 	 	)
 	 }
  </procedure>
  
  <update id="ibatorgenerated_updateById" parameterClass="vn.com.vhc.vmsc2.statistics.domain.HProvincesCode">
    update H_PROVINCES_CODE
    set PROVINCE = #province:VARCHAR#,
      MARKS = #marks:VARCHAR#,
      DISTRICT = #district:VARCHAR#,
      LOCATION = #location:VARCHAR#,
      BRANCH = #branch:VARCHAR#,
      DISTRICT_NAME = #districtName:VARCHAR#,
      DEPT = #dept:VARCHAR#,
      TEAM = #team:VARCHAR#,
      GROUPS = #groups:VARCHAR#,
      CODE = #code:VARCHAR#,
      REGION = #region:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
</sqlMap>