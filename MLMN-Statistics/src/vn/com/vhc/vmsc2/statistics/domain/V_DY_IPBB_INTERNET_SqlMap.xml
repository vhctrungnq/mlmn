<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="V_DY_IPBB_INTERNET" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vn.com.vhc.vmsc2.statistics.domain.VDyIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 21 12:07:56 ICT 2012.
    -->
    <result column="DAY" property="day" jdbcType="DATE" />
    <result column="DIRECTION" property="direction" jdbcType="VARCHAR" />
    <result column="LINK" property="link" jdbcType="VARCHAR" />
    <result column="BAND_WIDTH" property="bandWidth" jdbcType="DECIMAL" />
    <result column="IN_KBIT_SECOND" property="inKbitSecond" jdbcType="DECIMAL" />
    <result column="IN_UTILIZATION" property="inUtilization" jdbcType="DECIMAL" />
    <result column="OUT_KBIT_SECOND" property="outKbitSecond" jdbcType="DECIMAL" />
    <result column="OUT_UTILIZATION" property="outUtilization" jdbcType="DECIMAL" />
    <result column="DELAY_US_MAX" property="delayUsMax" jdbcType="DECIMAL" />
    <result column="DELAY_UK_MAX" property="delayUkMax" jdbcType="DECIMAL" />
    <result column="DELAY_JP_MAX" property="delayJpMax" jdbcType="DECIMAL" />
    <result column="DELAY_HK_MAX" property="delayHkMax" jdbcType="DECIMAL" />
    <result column="DELAY_SING_MAX" property="delaySingMax" jdbcType="DECIMAL" />
    <result column="DELAY_TUOITRE_MAX" property="delayTuoitreMax" jdbcType="DECIMAL" />
    <result column="DELAY_THANHNIEN_MAX" property="delayThanhnienMax" jdbcType="DECIMAL" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VDyIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 21 12:07:56 ICT 2012.
    -->
    insert into V_DY_IPBB_INTERNET (DAY, DIRECTION, LINK, BAND_WIDTH, IN_KBIT_SECOND,
      IN_UTILIZATION, OUT_KBIT_SECOND, OUT_UTILIZATION, DELAY_US_MAX, DELAY_UK_MAX, DELAY_JP_MAX,
      DELAY_HK_MAX, DELAY_SING_MAX, DELAY_TUOITRE_MAX, DELAY_THANHNIEN_MAX)
    values (#day:DATE#, #direction:VARCHAR#, #link:VARCHAR#, #bandWidth:DECIMAL#,
      #inKbitSecond:DECIMAL#, #inUtilization:DECIMAL#, #outKbitSecond:DECIMAL#,
      #outUtilization:DECIMAL#, #delayUsMax:DECIMAL#, #delayUkMax:DECIMAL#, #delayJpMax:DECIMAL#,
      #delayHkMax:DECIMAL#, #delaySingMax:DECIMAL#, #delayTuoitreMax:DECIMAL#,
      #delayThanhnienMax:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VDyIpbbInternet" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 21 12:07:56 ICT 2012.
    -->
    insert into V_DY_IPBB_INTERNET
    <dynamic prepend="(" >
      <isNotNull prepend="," property="day" >
        DAY
      </isNotNull>
      <isNotNull prepend="," property="direction" >
        DIRECTION
      </isNotNull>
      <isNotNull prepend="," property="link" >
        LINK
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        BAND_WIDTH
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        IN_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        IN_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        OUT_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        OUT_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="delayUsMax" >
        DELAY_US_MAX
      </isNotNull>
      <isNotNull prepend="," property="delayUkMax" >
        DELAY_UK_MAX
      </isNotNull>
      <isNotNull prepend="," property="delayJpMax" >
        DELAY_JP_MAX
      </isNotNull>
      <isNotNull prepend="," property="delayHkMax" >
        DELAY_HK_MAX
      </isNotNull>
      <isNotNull prepend="," property="delaySingMax" >
        DELAY_SING_MAX
      </isNotNull>
      <isNotNull prepend="," property="delayTuoitreMax" >
        DELAY_TUOITRE_MAX
      </isNotNull>
      <isNotNull prepend="," property="delayThanhnienMax" >
        DELAY_THANHNIEN_MAX
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="day" >
        #day:DATE#
      </isNotNull>
      <isNotNull prepend="," property="direction" >
        #direction:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="link" >
        #link:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        #bandWidth:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        #inKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        #inUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        #outKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        #outUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayUsMax" >
        #delayUsMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayUkMax" >
        #delayUkMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayJpMax" >
        #delayJpMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayHkMax" >
        #delayHkMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delaySingMax" >
        #delaySingMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayTuoitreMax" >
        #delayTuoitreMax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delayThanhnienMax" >
        #delayThanhnienMax:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
   <parameterMap class="java.util.Map" id="filter">
   <parameter property="link"/>
    <parameter property="startDate" />
    <parameter property="endDate" />
    <parameter property="direction"/>
  </parameterMap>
  
   <select id="filter" parameterMap="filter" resultMap="ibatorgenerated_BaseResultMap">
    select * From V_DY_IPBB_INTERNET
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="startDate">
        	DAY <![CDATA[ >= ]]> to_date(#startDate#, 'DD/MM/YYYY')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endDate">
       		DAY <![CDATA[ <= ]]> to_date(#endDate#, 'DD/MM/YYYY') 
      </isNotEmpty>
    </dynamic>
	AND UPPER(LINK)  like '%' || UPPER('IXP') || '%' 
	AND DIRECTION  = #direction:VARCHAR#  Order by DAY, LINK
  </select>
  
  <select id="filter2" parameterMap="filter" resultMap="ibatorgenerated_BaseResultMap">
    select * From V_DY_IPBB_INTERNET 
    <dynamic prepend="where">
       <isNotEmpty prepend="and" property="startDate">
        	DAY <![CDATA[ >= ]]> to_date(#startDate#, 'DD/MM/YYYY')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endDate">
       	 	DAY <![CDATA[ <= ]]> to_date(#endDate#, 'DD/MM/YYYY') 
      </isNotEmpty>
    </dynamic>
	AND UPPER(LINK)  not like '%' || UPPER('IXP') || '%' 
	AND DIRECTION  = #direction:VARCHAR#     Order by DAY
  </select>
</sqlMap>