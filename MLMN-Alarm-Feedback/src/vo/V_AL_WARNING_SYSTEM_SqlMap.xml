<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="V_AL_WARNING_SYSTEM">
  <resultMap class="vo.VAlWarningSystem" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 02 17:06:16 ICT 2012.
    -->
    <result column="SYSTEM_ID" jdbcType="NVARCHAR" property="systemId" />
    <result column="SYSTEM_TYPE" jdbcType="NVARCHAR" property="systemType" />
    <result column="VENDOR" jdbcType="NVARCHAR" property="vendor" />
    <result column="SYSTEM_NAME" jdbcType="NVARCHAR" property="systemName" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vo.VAlWarningSystem">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 02 17:06:16 ICT 2012.
    -->
    insert into V_AL_WARNING_SYSTEM (SYSTEM_ID, SYSTEM_TYPE, VENDOR, SYSTEM_NAME)
    values (#systemId:NVARCHAR#, #systemType:NVARCHAR#, #vendor:NVARCHAR#, #systemName:NVARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.VAlWarningSystem">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 02 17:06:16 ICT 2012.
    -->
    insert into V_AL_WARNING_SYSTEM
    <dynamic prepend="(">
      <isNotNull prepend="," property="systemId">
        SYSTEM_ID
      </isNotNull>
      <isNotNull prepend="," property="systemType">
        SYSTEM_TYPE
      </isNotNull>
      <isNotNull prepend="," property="vendor">
        VENDOR
      </isNotNull>
      <isNotNull prepend="," property="systemName">
        SYSTEM_NAME
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="systemId">
        #systemId:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="systemType">
        #systemType:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vendor">
        #vendor:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="systemName">
        #systemName:NVARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
 
  <procedure id="getSystemByTypeWarning" resultClass="String">
	      {
	      	call PK_AL_SHIFT_MLMN.pr_VAl_WARNING_SYSTEM_Get
	      	(
	      		#P_SYSTEM_NAME,jdbcType=VARCHAR,mode=IN#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  	</procedure>
  <select id="checkSystemExits" parameterClass="vo.VAlWarningSystem" resultClass="java.lang.String">
			select SYSTEM_ID from V_AL_WARNING_SYSTEM 
		    <dynamic prepend="where">
		        <isNotEmpty prepend="and" property="systemId">
		        	UPPER(SYSTEM_ID) = UPPER(#systemId:NVARCHAR#)
		      </isNotEmpty>	
		      <isNotEmpty prepend="and" property="systemType">
		        	UPPER(SYSTEM_NAME) = UPPER(#systemType:NVARCHAR#)
		      </isNotEmpty>	
		    </dynamic>
  </select>
  
</sqlMap>