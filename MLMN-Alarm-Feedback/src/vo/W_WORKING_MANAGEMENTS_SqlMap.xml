<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="W_WORKING_MANAGEMENTS">
  <resultMap class="vo.W_WORKING_MANAGEMENTS" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="MA_CONG_VIEC" jdbcType="VARCHAR" property="maCongViec" />
    <result column="TEN_CONG_VIEC" jdbcType="VARCHAR" property="tenCongViec" />
    <result column="TOM_TAT_NOI_DUNG" jdbcType="VARCHAR" property="tomTatNoiDung" />
    <result column="NOI_DUNG" jdbcType="VARCHAR" property="noiDung" />
    <result column="NGUOI_GIAO_VIEC" jdbcType="VARCHAR" property="nguoiGiaoViec" />
    <result column="NGUOI_CHU_TRI" jdbcType="VARCHAR" property="nguoiChuTri" />
    <result column="NGUOI_NHAN_VIEC" jdbcType="VARCHAR" property="nguoiNhanViec" />
    <result column="ASSIGN_DATE" jdbcType="TIMESTAMP" property="assignDate" />
    <result column="ESTIMATE_DATE" jdbcType="TIMESTAMP" property="estimateDate" />
    <result column="ACTUAL_DATE" jdbcType="TIMESTAMP" property="actualDate" />
    <result column="TINH_TRANG" jdbcType="VARCHAR" property="tinhTrang" />
    <result column="CREATED_BY" jdbcType="VARCHAR" property="createdBy" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="MODIFIED_BY" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
    <result column="ID_WORK_TYPES" jdbcType="DECIMAL" property="idWorkTypes" />
    <result column="CREATED_BY_TCP_IP" jdbcType="VARCHAR" property="createdByTcpIp" />
    <result column="MODIFIED_BY_TCP_IP" jdbcType="VARCHAR" property="modifiedByTcpIp" />
    <result column="YEAR_SHIFT" jdbcType="VARCHAR" property="yearShift" />
    <result column="WEEK_SHIFT" jdbcType="VARCHAR" property="weekShift" />
    <result column="DEPT" jdbcType="VARCHAR" property="dept" />
    <result column="TEAM" jdbcType="VARCHAR" property="team" />
    <result column="FINISH_RATE" jdbcType="DECIMAL" property="finishRate" />
    <result column="DANH_GIA" jdbcType="VARCHAR" property="danhGia" />
    <result column="CC_EMAIL" jdbcType="VARCHAR" property="ccEmail" />
    <result column="DAY_SHIFT" jdbcType="TIMESTAMP" property="dayShift" />
    <result column="SHIFT" jdbcType="VARCHAR" property="shift" />
    <result column="WWM_FK_ID" jdbcType="DECIMAL" property="wwmFkId" />
    <result column="SITE" jdbcType="VARCHAR" property="site" />
    <result column="LONGITUDE" jdbcType="VARCHAR" property="longitude" />
    <result column="LATITUDE" jdbcType="VARCHAR" property="latitude" />
    <result column="ASSESS_RESULT" jdbcType="VARCHAR" property="assessResult" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="vo.W_WORKING_MANAGEMENTS" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    select ID, MA_CONG_VIEC, TEN_CONG_VIEC, TOM_TAT_NOI_DUNG, NOI_DUNG, NGUOI_GIAO_VIEC, NGUOI_CHU_TRI,
      NGUOI_NHAN_VIEC, ASSIGN_DATE, ESTIMATE_DATE, ACTUAL_DATE, TINH_TRANG, CREATED_BY, CREATE_DATE,
      MODIFIED_BY, MODIFY_DATE, ID_WORK_TYPES, CREATED_BY_TCP_IP, MODIFIED_BY_TCP_IP, 
      YEAR_SHIFT, WEEK_SHIFT, DEPT, TEAM, FINISH_RATE, DANH_GIA, CC_EMAIL,
      DAY_SHIFT,SHIFT,WWM_FK_ID,SITE,LONGITUDE,LATITUDE,ASSESS_RESULT
    from W_WORKING_MANAGEMENTS_MLMN
    where ID = #id:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    delete from W_WORKING_MANAGEMENTS_MLMN
    where ID = #id:DECIMAL#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    insert into W_WORKING_MANAGEMENTS_MLMN (MA_CONG_VIEC, TEN_CONG_VIEC, TOM_TAT_NOI_DUNG, NOI_DUNG,
      NGUOI_GIAO_VIEC, NGUOI_CHU_TRI, NGUOI_NHAN_VIEC, ASSIGN_DATE, ESTIMATE_DATE,
      TINH_TRANG, CREATED_BY, CREATE_DATE, ID_WORK_TYPES,
      CREATED_BY_TCP_IP, MODIFIED_BY_TCP_IP,
      YEAR_SHIFT, WEEK_SHIFT, DEPT, TEAM, FINISH_RATE, DANH_GIA, CC_EMAIL,DAY_SHIFT,SHIFT,WWM_FK_ID,SITE,LONGITUDE,LATITUDE,ASSESS_RESULT)
    values (#maCongViec:VARCHAR#, #tenCongViec:VARCHAR#, #tomTatNoiDung:VARCHAR#, #noiDung:VARCHAR#,
      #nguoiGiaoViec:VARCHAR#, #nguoiChuTri:VARCHAR#, #nguoiNhanViec:VARCHAR#,
      #assignDate:TIMESTAMP#, #estimateDate:TIMESTAMP#, #tinhTrang:VARCHAR#,
      #createdBy:VARCHAR#, SYSDATE,
      #idWorkTypes:DECIMAL#, #createdByTcpIp:VARCHAR#, #modifiedByTcpIp:VARCHAR#,
      #yearShift:VARCHAR#, #weekShift:VARCHAR#, #dept:VARCHAR#, #team:VARCHAR#, #finishRate:DECIMAL#, #danhGia:VARCHAR#, #ccEmail:VARCHAR#,
      #dayShift:TIMESTAMP#, #shift:VARCHAR#,#wwmFkId:DECIMAL#, #site:VARCHAR#, #longitude:VARCHAR#, #latitude:VARCHAR#,  #assessResult:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    insert into W_WORKING_MANAGEMENTS_MLMN
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        ID
      </isNotNull>
      <isNotNull prepend="," property="tenCongViec">
        TEN_CONG_VIEC
      </isNotNull>
      <isNotNull prepend="," property="tomTatNoiDung">
        TOM_TAT_NOI_DUNG
      </isNotNull>
      <isNotNull prepend="," property="noiDung">
        NOI_DUNG
      </isNotNull>
      <isNotNull prepend="," property="nguoiGiaoViec">
        NGUOI_GIAO_VIEC
      </isNotNull>
      <isNotNull prepend="," property="nguoiChuTri">
        NGUOI_CHU_TRI
      </isNotNull>
      <isNotNull prepend="," property="nguoiNhanViec">
        NGUOI_NHAN_VIEC
      </isNotNull>
      <isNotNull prepend="," property="assignDate">
        ASSIGN_DATE
      </isNotNull>
      <isNotNull prepend="," property="estimateDate">
        ESTIMATE_DATE
      </isNotNull>
      <isNotNull prepend="," property="actualDate">
        ACTUAL_DATE
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang">
        TINH_TRANG
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        CREATED_BY
      </isNotNull>
      <isNotNull prepend="," property="createDate">
        CREATE_DATE
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        MODIFIED_BY
      </isNotNull>
      <isNotNull prepend="," property="modifyDate">
        MODIFY_DATE
      </isNotNull>
      <isNotNull prepend="," property="idWorkTypes">
        ID_WORK_TYPES
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp">
        CREATED_BY_TCP_IP
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp">
        MODIFIED_BY_TCP_IP
      </isNotNull>
       <isNotNull prepend="," property="yearShift">
        YEAR_SHIFT
      </isNotNull>
       <isNotNull prepend="," property="weekShift">
        WEEK_SHIFT
      </isNotNull>
       <isNotNull prepend="," property="dept">
        DEPT
      </isNotNull>
       <isNotNull prepend="," property="team">
        TEAM
      </isNotNull>
       <isNotNull prepend="," property="finishRate">
        FINISH_RATE
      </isNotNull>
       <isNotNull prepend="," property="danhGia">
        DANH_GIA
      </isNotNull>
       <isNotNull prepend="," property="ccEmail">
        CC_EMAIL
      </isNotNull>
       <isNotNull prepend="," property="dayShift">
        DAY_SHIFT
      </isNotNull>
       <isNotNull prepend="," property="shift">
        SHIFT
      </isNotNull>
       <isNotNull prepend="," property="wwmFkId">
        WWM_FK_ID
      </isNotNull>
       <isNotNull prepend="," property="site">
        SITE
      </isNotNull>
       <isNotNull prepend="," property="longitude">
        LONGITUDE
      </isNotNull>
       <isNotNull prepend="," property="latitude">
        LATITUDE
      </isNotNull>
       <isNotNull prepend="," property="latitude">
        ASSESS_RESULT
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="tenCongViec">
        #tenCongViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tomTatNoiDung">
        #tomTatNoiDung:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="noiDung">
        #noiDung:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiGiaoViec">
        #nguoiGiaoViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiChuTri">
        #nguoiChuTri:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiNhanViec">
        #nguoiNhanViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="assignDate">
        #assignDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="estimateDate">
        #estimateDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="actualDate">
        #actualDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang">
        #tinhTrang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate">
        #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate">
        #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="idWorkTypes">
        #idWorkTypes:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp">
        #createdByTcpIp:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp">
        #modifiedByTcpIp:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="yearShift">
        #yearShift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="weekShift">
        #weekShift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="dept">
        #dept:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="team">
        #team:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="finishRate">
        #finishRate:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="danhGia">
        #danhGia:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="ccEmail">
        #ccEmail:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="dayShift">
        #dayShift:TIMESTAMP#
      </isNotNull>
       <isNotNull prepend="," property="shift">
        #shift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="wwmFkId">
        #wwmFkId:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="site">
        #site:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="longitude">
        #longitude:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="latitude">
        #latitude:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="latitude">
        #assessResult:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    update W_WORKING_MANAGEMENTS_MLMN
    <dynamic prepend="set">
      <isNotNull prepend="," property="tenCongViec">
        TEN_CONG_VIEC = #tenCongViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tomTatNoiDung">
        TOM_TAT_NOI_DUNG = #tomTatNoiDung:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="noiDung">
        NOI_DUNG = #noiDung:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiGiaoViec">
        NGUOI_GIAO_VIEC = #nguoiGiaoViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiChuTri">
        NGUOI_CHU_TRI = #nguoiChuTri:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguoiNhanViec">
        NGUOI_NHAN_VIEC = #nguoiNhanViec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="assignDate">
        ASSIGN_DATE = #assignDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="estimateDate">
        ESTIMATE_DATE = #estimateDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="actualDate">
        ACTUAL_DATE = #actualDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang">
        TINH_TRANG = #tinhTrang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        CREATED_BY = #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate">
        CREATE_DATE = #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        MODIFIED_BY = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate">
        MODIFY_DATE = #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="idWorkTypes">
        ID_WORK_TYPES = #idWorkTypes:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp">
        CREATED_BY_TCP_IP = #createdByTcpIp:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp">
        MODIFIED_BY_TCP_IP = #modifiedByTcpIp:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="yearShift">
        YEAR_SHIFT=#yearShift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="weekShift">
        WEEK_SHIFT=#weekShift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="dept">
        DEPT=#dept:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="team">
        TEAM=#team:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="finishRate">
        FINISH_RATE=#finishRate:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="danhGia">
        DANH_GIA=#danhGia:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="ccEmail">
        CC_EMAIL=#ccEmail:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="dayShift">
        DAY_SHIFT=#dayShift:TIMESTAMP#
      </isNotNull>
       <isNotNull prepend="," property="shift">
        SHIFT=#shift:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="wwmFkId">
        WWM_FK_ID=#wwmFkId:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="site">
        SITE=#site:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="longitude">
        LONGITUDE=#longitude:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="latitude">
        LATITUDE=#latitude:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="latitude">
        ASSESS_RESULT=#assessResult:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    update W_WORKING_MANAGEMENTS_MLMN
    set
    TEN_CONG_VIEC = #tenCongViec:VARCHAR#,
      TOM_TAT_NOI_DUNG = #tomTatNoiDung:VARCHAR#,
      NOI_DUNG = #noiDung:VARCHAR#,
      NGUOI_GIAO_VIEC = #nguoiGiaoViec:VARCHAR#,
      NGUOI_CHU_TRI = #nguoiChuTri:VARCHAR#,
      NGUOI_NHAN_VIEC = #nguoiNhanViec:VARCHAR#,
      ASSIGN_DATE = #assignDate:TIMESTAMP#,
      ESTIMATE_DATE = #estimateDate:TIMESTAMP#,
      TINH_TRANG = #tinhTrang:VARCHAR#,
      MODIFIED_BY = #modifiedBy:VARCHAR#,
      MODIFY_DATE = SYSDATE,
      ID_WORK_TYPES = #idWorkTypes:DECIMAL#,
      CREATED_BY_TCP_IP = #createdByTcpIp:VARCHAR#,
      MODIFIED_BY_TCP_IP = #modifiedByTcpIp:VARCHAR#,
      YEAR_SHIFT = #yearShift:VARCHAR#, 
      WEEK_SHIFT = #weekShift:VARCHAR#, 
      DEPT = #dept:VARCHAR#, 
      TEAM = #team:VARCHAR#, 
      FINISH_RATE = #finishRate:DECIMAL#, 
      DANH_GIA = #danhGia:VARCHAR#, 
      CC_EMAIL = #ccEmail:VARCHAR#,
      DAY_SHIFT=#dayShift:TIMESTAMP#,
      SHIFT=#shift:VARCHAR#,
      WWM_FK_ID=#wwmFkId:DECIMAL#,
      SITE=#site:VARCHAR#,
      LONGITUDE=#longitude:VARCHAR#,
      LATITUDE=#latitude:VARCHAR#,
      ACTUAL_DATE = #actualDate:TIMESTAMP#,
      ASSESS_RESULT=#assessResult:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
  
  <update id="ibatorgenerated_updateByPrimaryKeyForActualDate" parameterClass="vo.W_WORKING_MANAGEMENTS">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Aug 10 13:57:50 ICT 2012.
    -->
    update W_WORKING_MANAGEMENTS_MLMN
    set 
      ACTUAL_DATE = #actualDate:TIMESTAMP#,
      TINH_TRANG = #tinhTrang:VARCHAR#,
      DANH_GIA = #danhGia:VARCHAR#,
      FINISH_RATE = #finishRate:DECIMAL#,
      MODIFIED_BY = #modifiedBy:VARCHAR#,
      ASSESS_RESULT=#assessResult:VARCHAR#,
      MODIFY_DATE = SYSDATE
    where ID = #id:DECIMAL#
  </update>

  
  <!-- <select id="getWorkingManagementsFilter" parameterMap="parameterfilter" resultMap="ibatorgenerated_BaseResultMap">
			select * from W_WORKING_MANAGEMENTS_MLMN
		    <dynamic prepend="where">
	    		<isNotEmpty prepend="and" property="idWorkTypes">
	    		ID_WORK_TYPES = #idWorkTypes:VARCHAR#
	    		</isNotEmpty>
		      <isNotEmpty prepend="and" property="tenCongViec">
		        UPPER(TEN_CONG_VIEC) like '%' || UPPER(#tenCongViec:VARCHAR#) || '%' 
		      </isNotEmpty>
		      <isNotEmpty prepend="and" property="nguoiGiaoViec">
		        UPPER(NGUOI_GIAO_VIEC) like '%' || UPPER(#nguoiGiaoViec:VARCHAR#) || '%' 
		      </isNotEmpty>
		      <isNotEmpty prepend="and" property="nguoiChuTri">
		        UPPER(NGUOI_CHU_TRI) like '%' || UPPER(#nguoiChuTri:VARCHAR#) || '%' 
		      </isNotEmpty>
		      <isNotEmpty prepend="and" property="tinhTrang">
		        UPPER(TINH_TRANG) like '%' || UPPER(#tinhTrang:VARCHAR#) || '%' 
		      </isNotEmpty>
		      <isNotEmpty prepend="and" property="startDate">
				 to_date(to_char(ACTUAL_DATE,'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ >= ]]> to_date(#startDate:TIMESTAMP#,'dd/MM/yyyy HH24:mi:ss')
	   		  </isNotEmpty>
		  	  <isNotEmpty prepend="and" property="endDate">
				 to_date(to_char(ACTUAL_DATE,'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ <= ]]> to_date(#endDate:TIMESTAMP#,'dd/MM/yyyy HH24:mi:ss')
		  	  </isNotEmpty>
		    </dynamic>
		    ORDER BY MA_CONG_VIEC
  </select> -->
  
  <resultMap class="vo.W_WORKING_MANAGEMENTS" id="resultMapFilter">
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="MA_CONG_VIEC" jdbcType="VARCHAR" property="maCongViec" />
    <result column="TEN_CONG_VIEC" jdbcType="VARCHAR" property="tenCongViec" />
    <result column="TOM_TAT_NOI_DUNG" jdbcType="VARCHAR" property="tomTatNoiDung" />
    <result column="NOI_DUNG" jdbcType="VARCHAR" property="noiDung" />
    <result column="NGUOI_GIAO_VIEC" jdbcType="VARCHAR" property="nguoiGiaoViec" />
    <result column="NGUOI_CHU_TRI" jdbcType="VARCHAR" property="nguoiChuTri" />
    <result column="NGUOI_NHAN_VIEC" jdbcType="VARCHAR" property="nguoiNhanViec" />
    <result column="ASSIGN_DATE" jdbcType="TIMESTAMP" property="assignDate" />
    <result column="ESTIMATE_DATE" jdbcType="TIMESTAMP" property="estimateDate" />
    <result column="ACTUAL_DATE" jdbcType="TIMESTAMP" property="actualDate" />
    <result column="TINH_TRANG" jdbcType="VARCHAR" property="tinhTrang" />
    <result column="CREATED_BY" jdbcType="VARCHAR" property="createdBy" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="MODIFIED_BY" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
    <result column="ID_WORK_TYPES" jdbcType="DECIMAL" property="idWorkTypes" />
    <result column="CREATED_BY_TCP_IP" jdbcType="VARCHAR" property="createdByTcpIp" />
    <result column="MODIFIED_BY_TCP_IP" jdbcType="VARCHAR" property="modifiedByTcpIp" />
    <result column="TEN_TINH_TRANG" jdbcType="VARCHAR" property="tenTinhTrang" />
    <result column="TEN_NGUOI_GIAO_VIEC" jdbcType="VARCHAR" property="tenNguoiGiaoViec" />
    <result column="TEN_NGUOI_CHU_TRI" jdbcType="VARCHAR" property="tenNguoiChuTri" />
    <result column="TEN_NGUOI_NHAN_VIEC" jdbcType="VARCHAR" property="tenNguoiNhanViec" />
    <result column="FINISH_RATE" jdbcType="DECIMAL" property="finishRate" />
    <result column="DANH_GIA" jdbcType="VARCHAR" property="danhGia" />
    <result column="YEAR_SHIFT" jdbcType="VARCHAR" property="yearShift" />
    <result column="WEEK_SHIFT" jdbcType="VARCHAR" property="weekShift" />
    <result column="DEPT" jdbcType="VARCHAR" property="dept" />
    <result column="TEAM" jdbcType="VARCHAR" property="team" />
    <result column="CC_EMAIL" jdbcType="VARCHAR" property="ccEmail" />
    <result column="STT" jdbcType="VARCHAR" property="level" />
    <result column="COMMENTS" jdbcType="VARCHAR" property="comments" />
    <result column="DAY_SHIFT" jdbcType="TIMESTAMP" property="dayShift" />
    <result column="SHIFT" jdbcType="VARCHAR" property="shift" />
    <result column="WWM_FK_ID" jdbcType="DECIMAL" property="wwmFkId" />
    <result column="SITE" jdbcType="VARCHAR" property="site" />
    <result column="LONGITUDE" jdbcType="VARCHAR" property="longitude" />
    <result column="LATITUDE" jdbcType="VARCHAR" property="latitude" />
    <result column="parent_work" jdbcType="VARCHAR" property="workParentName" />
    <result column="ASSESS_RESULT" jdbcType="VARCHAR" property="assessResult" />
  </resultMap>
  <procedure id="getWorkingManagementsFilter" resultMap="resultMapFilter">
	      {
	      	call PK_W_WORKING_MANAGEMENTS_MLMN.GET_WORKING_MANAGEMENTS_FILTER
	      	(
	      		#P_ID_WORK_TYPES,jdbcType=INTEGER,mode=IN,javaType=java.lang.Integer#,
	      		#P_MA_CONG_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_TEN_CONG_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_GIAO_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_CHU_TRI,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_NHAN_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_TINH_TRANG,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ACTUAL_DATE_FROM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ACTUAL_DATE_TO,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ASSIGN_DATE_FROM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ASSIGN_DATE_TO,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_RECEIVED,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_USERNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DEPTNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_COLUMN,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ORDER,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_WHERE,jdbcType=VARCHAR,mode=IN#,
				#P_START_RECORD,jdbcType=DECIMAL,mode=IN#,
				#P_END_RECORD,jdbcType=DECIMAL,mode=IN#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <procedure id="selectJoinByPrimaryKey" resultMap="resultMapFilter">
	      {
	      	call PK_W_WORKING_MANAGEMENTS_MLMN.SELECT_JOIN_BY_PRIMARY_KEY
	      	(
	      		#P_ID,jdbcType=INTEGER,mode=IN,javaType=java.lang.Integer#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <select id="nameWorkTypes" parameterClass="java.lang.String" resultClass="String"> <!-- Đầu vào: parameterClass, Đầu ra: resultClass -->
  	select NAME from W_WORKING_TYPES
  	<dynamic prepend="where">
		        ID = #nameWorkTypes:VARCHAR#
	</dynamic>
  </select>
  
  <select id="idWorkMana" parameterClass="java.lang.String" resultClass="String"> <!-- Đầu vào: parameterClass, Đầu ra: resultClass -->
  	select TEN_CONG_VIEC from W_WORKING_MANAGEMENTS_MLMN
  	<dynamic prepend="where">
		        ID = #idWorkMana:VARCHAR#
	</dynamic>
  </select>
  
  
  <!-- Test insert and return id -->
  <!--Oracle SEQUENCE Example using .NET 1.1 System.Data.OracleClient --> 
<insert id="insertProduct-ORACLE" parameterClass="vo.W_WORKING_MANAGEMENTS"> 
  <selectKey keyProperty="id" resultClass="int" type="post"> 
     SELECT W_WORKING_MANAGEMENTS_MLMN_SEQ.CURRVAL AS VALUE FROM DUAL
  </selectKey> 
      insert into W_WORKING_MANAGEMENTS_MLMN (MA_CONG_VIEC, TEN_CONG_VIEC, TOM_TAT_NOI_DUNG, NOI_DUNG,
      NGUOI_GIAO_VIEC, NGUOI_CHU_TRI, NGUOI_NHAN_VIEC, ASSIGN_DATE, ESTIMATE_DATE,
      TINH_TRANG, CREATED_BY, CREATE_DATE, ID_WORK_TYPES,
      CREATED_BY_TCP_IP, MODIFIED_BY_TCP_IP,
      YEAR_SHIFT, WEEK_SHIFT, DEPT, TEAM, FINISH_RATE, DANH_GIA, CC_EMAIL,
      DAY_SHIFT,SHIFT,WWM_FK_ID,SITE,LONGITUDE,LATITUDE,ASSESS_RESULT)
    values (#maCongViec:VARCHAR#, #tenCongViec:VARCHAR#, #tomTatNoiDung:VARCHAR#, #noiDung:VARCHAR#,
      #nguoiGiaoViec:VARCHAR#, #nguoiChuTri:VARCHAR#, #nguoiNhanViec:VARCHAR#,
      #assignDate:TIMESTAMP#, #estimateDate:TIMESTAMP#, #tinhTrang:VARCHAR#,
      #createdBy:VARCHAR#, SYSDATE,
      #idWorkTypes:DECIMAL#, #createdByTcpIp:VARCHAR#, #modifiedByTcpIp:VARCHAR#,
      #yearShift:VARCHAR#, #weekShift:VARCHAR#, #dept:VARCHAR#, #team:VARCHAR#, #finishRate:DECIMAL#, #danhGia:VARCHAR#, #ccEmail:VARCHAR#,
      #dayShift:TIMESTAMP#, #shift:VARCHAR#,#wwmFkId:DECIMAL#, #site:VARCHAR#, #longitude:VARCHAR#, #latitude:VARCHAR#,#assessResult:VARCHAR#)
</insert>

<resultMap class="vo.W_WORKING_MANAGEMENTS" id="idWorkTypesList">
    <result column="ID" jdbcType="DECIMAL" property="id" />
  </resultMap>
<select id="idWorkingManagements" parameterClass="java.lang.String" resultMap="idWorkTypesList">
	SELECT ID FROM W_WORKING_MANAGEMENTS_MLMN
	<dynamic prepend="where">
		        ID_WORK_TYPES = #idWorkTypes:VARCHAR#
	</dynamic>
</select>

<parameterMap id="parameterfilter" class="java.util.Map">
  	<parameter property="idWorkTypes" />
  </parameterMap>

<select id="countWorkingManaByIDWorksTypes" parameterMap="parameterfilter" resultClass="Integer">
    select count(*) from W_WORKING_MANAGEMENTS_MLMN
		  <dynamic prepend="where">
		      <isNotEmpty prepend="and" property="idWorkTypes">
		        ID_WORK_TYPES = #idWorkTypes:DECIMAL#
		      </isNotEmpty>
		    </dynamic>
  </select>
  
  <update id="updateTinhTrangCV" parameterClass="vo.W_WORKING_MANAGEMENTS">
    update W_WORKING_MANAGEMENTS_MLMN
    set 
      TINH_TRANG = #tinhTrang:VARCHAR#,
      MODIFIED_BY = #modifiedBy:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
  
  <!-- Them moi, cap nhap cong viec  cua catruc trong tuan -->
  	  <procedure id="insertWorkInShift">
	      {
	      	call PK_AL_SHIFT_MLMN.PR_WORK_IN_SHIFT_UPDATE
	      	(
	      		#P_TEN_CONG_VIEC,jdbcType=VARCHAR,mode=IN#,
	      		#P_NOI_DUNG,jdbcType=VARCHAR,mode=IN#,
	      		#P_YEAR,jdbcType=DECIMAL,mode=IN#,
	      		#P_WEEK,jdbcType=DECIMAL,mode=IN#,
	      		#P_DEPT,jdbcType=VARCHAR,mode=IN#,
	      		#P_TEAM,jdbcType=VARCHAR,mode=IN#,
	      		#P_ESTIMATE_DATE,jdbcType=VARCHAR,mode=IN#,
	      		#P_ACTUAL_DATE,jdbcType=VARCHAR,mode=IN#,
	      		#P_NGUOI_GIAO_VIEC,jdbcType=VARCHAR,mode=IN#,
	      		#P_ID,jdbcType=DECIMAL,mode=IN#,
	      		#P_REGION,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 <resultMap class="vo.W_WORKING_MANAGEMENTS" id="ResultMapShift">
   
		    <result column="ID" jdbcType="DECIMAL" property="id" />
		    <result column="TEN_CONG_VIEC" jdbcType="VARCHAR" property="tenCongViec" />
		    <result column="NOI_DUNG" jdbcType="VARCHAR" property="noiDung" />
		    <result column="NGUOI_GIAO_VIEC" jdbcType="VARCHAR" property="nguoiGiaoViec" />
		    <result column="NGUOI_CHU_TRI" jdbcType="VARCHAR" property="nguoiChuTri" />
		    <result column="NGUOI_NHAN_VIEC" jdbcType="VARCHAR" property="nguoiNhanViec" />
		    <result column="ASSIGN_DATE" jdbcType="TIMESTAMP" property="assignDate" />
		    <result column="ESTIMATE_DATE" jdbcType="TIMESTAMP" property="estimateDate" />
		    <result column="ACTUAL_DATE" jdbcType="TIMESTAMP" property="actualDate" />
		    <result column="TINH_TRANG" jdbcType="VARCHAR" property="tinhTrang" />
				    
		  </resultMap>
	 <!-- Danh sach cong viec cua cac ca truc trong tuan  -->
	  <procedure id="getWorkInShift" parameterClass="java.util.Map" resultMap="ResultMapShift">
	      {
		      call PK_AL_SHIFT_MLMN.PR_WORK_SHIFT_GET
		      (	
		      	#P_YEAR,jdbcType=VARCHAR,mode=IN#,
	      		#P_WEEK,jdbcType=VARCHAR,mode=IN#,
	      		#P_DEPT,jdbcType=VARCHAR,mode=IN#,
	      		#P_TEAM,jdbcType=VARCHAR,mode=IN#,
	      		#P_REGION,jdbcType=VARCHAR,mode=IN#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	<!--Send SMS  -->
	 
	  <procedure id="sendSMS">
	      {
	      	call PK_W_WORKING_MANAGEMENTS_MLMN.PR_SEND_SMS_WORKING
	      	(
	      		#P_POSITION,jdbcType=VARCHAR,mode=IN#,
	      		#P_ISDN,jdbcType=VARCHAR,mode=IN#,
	      		#P_ALARM_TYPE,jdbcType=VARCHAR,mode=IN#,
	      		#P_MESSAGE,jdbcType=VARCHAR,mode=IN#,
	      		#P_USERNAME,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 
	<!--  SAVE MAIL INFOMATION  -->
	 
	  <procedure id="saveManagerSend">
	      {
	      	call PK_W_WORKING_MANAGEMENTS_MLMN.PR_SAVE_MANAGER_MAIL
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#,
	      		#P_NGUOI_CHU_TRI,jdbcType=VARCHAR,mode=IN#,
	      		#P_NGUOI_NHAN_VIEC,jdbcType=VARCHAR,mode=IN#,
	      		#P_FINISH_RATE,jdbcType=VARCHAR,mode=IN#,
	      		#P_USERNAME,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	<!-- Lay danh sach email nguoi chu tri va nguoi thuc hien -->
	 <resultMap class="vo.W_WORKING_MANAGEMENTS" id="ResultMapMailList">
		<result column="MA_CONG_VIEC" jdbcType="VARCHAR" property="maCongViec" />
	    <result column="NGUOI_CHU_TRI" jdbcType="VARCHAR" property="nguoiChuTri" />
	    <result column="NGUOI_NHAN_VIEC" jdbcType="VARCHAR" property="nguoiNhanViec" />
  </resultMap>
	 <procedure id="getMailList" parameterClass="java.util.Map" resultMap="ResultMapMailList">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_WORKING_MANAGER_MAIL_GET
		      (	
		      	#P_ID,jdbcType=DECIMAL,mode=IN#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	 <!-- delete working manager mail  -->
	  <procedure id="deleteWorkingManagerMail">
	      {
	      	call PK_W_WORKING_MANAGEMENTS_MLMN.PR_MANAGER_MAIL_DEL
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#
	      	)
	      }
	 </procedure>
	 
	 
	<!--  LAY DANH SACH CONG VIEC DUOC PHAN NHO -->
	  <procedure id="getWorkingChildren" parameterClass="java.util.Map" resultMap="resultMapFilter">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_WORK_MANAGER_CHILDREN_GET
		      (	
		      	#P_ID,jdbcType=DECIMAL,mode=IN#,
		      	#P_COLUMN,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ORDER,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	
	<!-- KIEM TRA QUYEN DANH GIA NHAN XET THEO PHAN CAP --> 
	  <procedure id="checkRoleAllowRate" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_ROLE_RATE_WORK_CHECK
		      (	
		      	#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
		      	#P_IDWORK,jdbcType=DECIMAL,mode=IN#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure>
	 
	<!-- KIEM TRA CONG VIEC CO CONG VIEC CON HAY KHONG --> 
	  <procedure id="countChild" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_COUNT_CHILD_WORK
		      (	
		      	#P_IDWORK,jdbcType=DECIMAL,mode=IN#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure> 
	<!--  //Thong ke danh sach cong viec cho cham diem ca nhan. status: trang thai xu ly. -->
	  <procedure id="getWorkingDetailInAssess" resultMap="resultMapFilter">
	      {
	      	call PK_AL_SHIFT_MLMN.PR_WORKING_ASSESS_GET
	      	(
	      		#P_DATE_FROM,jdbcType=INTEGER,mode=IN,javaType=java.lang.Integer#,
	      		#P_DATE_TO,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_SHIFT,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_USERS,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_STATUS,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_TYPE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_COLUMNHEADER,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <procedure id="countWorkingManagement" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_WORKING_MANAGEMENT_COUNT
		      (	
		      	#P_ID_WORK_TYPES,jdbcType=INTEGER,mode=IN,javaType=java.lang.Integer#,
	      		#P_MA_CONG_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_TEN_CONG_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_GIAO_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_CHU_TRI,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_NGUOI_NHAN_VIEC,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_TINH_TRANG,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ACTUAL_DATE_FROM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ACTUAL_DATE_TO,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ASSIGN_DATE_FROM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_ASSIGN_DATE_TO,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_RECEIVED,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_USERNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DEPTNAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure>
	 
	 
	 <!-- KIEM TRA QUYEN XOA BAN GHI --> 
	  <procedure id="checkRoleAllowDelete" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_W_WORKING_MANAGEMENTS_MLMN.PR_ROLE_DEL_WORK_CHECK
		      (	
		      	#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
		      	#P_IDWORK,jdbcType=DECIMAL,mode=IN#,
		      	#P_RECEIVED,jdbcType=VARCHAR,mode=IN#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure>
</sqlMap>