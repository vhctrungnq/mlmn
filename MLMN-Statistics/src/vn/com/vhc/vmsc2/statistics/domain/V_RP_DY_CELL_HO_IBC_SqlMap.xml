<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="V_RP_DY_CELL_HO_IBC">
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.VRpDyCellHoIbc" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 09:26:01 ICT 2011.
    -->
    <result column="DAY" jdbcType="DATE" property="day" />
    <result column="REGION" jdbcType="VARCHAR" property="region" />
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
    <result column="MSCID" jdbcType="VARCHAR" property="mscid" />
    <result column="BSCID" jdbcType="VARCHAR" property="bscid" />
    <result column="CELLID" jdbcType="VARCHAR" property="cellid" />
    <result column="CELLNAME" jdbcType="VARCHAR" property="cellname" />
    <result column="CGI" jdbcType="VARCHAR" property="cgi" />
    <result column="OG_HO_ATT" jdbcType="DECIMAL" property="ogHoAtt" />
    <result column="OG_HO_SUCR" jdbcType="DECIMAL" property="ogHoSucr" />
    <result column="IN_HO_ATT" jdbcType="DECIMAL" property="inHoAtt" />
    <result column="IN_HO_SUCR" jdbcType="DECIMAL" property="inHoSucr" />
    <result column="HO_ATT" jdbcType="DECIMAL" property="hoAtt" />
    <result column="HO_SUCR" jdbcType="DECIMAL" property="hoSucr" />
    <result column="HO_REV" jdbcType="DECIMAL" property="hoRev" />
    <result column="HO_LOST" jdbcType="DECIMAL" property="hoLost" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VRpDyCellHoIbc">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 09:26:01 ICT 2011.
    -->
    insert into V_RP_DY_CELL_HO_IBC (DAY, REGION, PROVINCE, MSCID, BSCID, CELLID, CELLNAME, CGI,
      OG_HO_ATT, OG_HO_SUCR, IN_HO_ATT, IN_HO_SUCR, HO_ATT, HO_SUCR, HO_REV, HO_LOST)
    values (#day:DATE#, #region:VARCHAR#, #province:VARCHAR#, #mscid:VARCHAR#, #bscid:VARCHAR#,
      #cellid:VARCHAR#, #cellname:VARCHAR#, #cgi:VARCHAR#, #ogHoAtt:DECIMAL#, #ogHoSucr:DECIMAL#,
      #inHoAtt:DECIMAL#, #inHoSucr:DECIMAL#, #hoAtt:DECIMAL#, #hoSucr:DECIMAL#, #hoRev:DECIMAL#,
      #hoLost:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VRpDyCellHoIbc">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 09:26:01 ICT 2011.
    -->
    insert into V_RP_DY_CELL_HO_IBC
    <dynamic prepend="(">
      <isNotNull prepend="," property="day">
        DAY
      </isNotNull>
      <isNotNull prepend="," property="region">
        REGION
      </isNotNull>
      <isNotNull prepend="," property="province">
        PROVINCE
      </isNotNull>
      <isNotNull prepend="," property="mscid">
        MSCID
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        BSCID
      </isNotNull>
      <isNotNull prepend="," property="cellid">
        CELLID
      </isNotNull>
      <isNotNull prepend="," property="cellname">
        CELLNAME
      </isNotNull>
      <isNotNull prepend="," property="cgi">
        CGI
      </isNotNull>
      <isNotNull prepend="," property="ogHoAtt">
        OG_HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="ogHoSucr">
        OG_HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="inHoAtt">
        IN_HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="inHoSucr">
        IN_HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="hoAtt">
        HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="hoSucr">
        HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="hoRev">
        HO_REV
      </isNotNull>
      <isNotNull prepend="," property="hoLost">
        HO_LOST
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="day">
        #day:DATE#
      </isNotNull>
      <isNotNull prepend="," property="region">
        #region:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="province">
        #province:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mscid">
        #mscid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        #bscid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cellid">
        #cellid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cellname">
        #cellname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cgi">
        #cgi:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ogHoAtt">
        #ogHoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="ogHoSucr">
        #ogHoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inHoAtt">
        #inHoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inHoSucr">
        #inHoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoAtt">
        #hoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoSucr">
        #hoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoRev">
        #hoRev:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoLost">
        #hoLost:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>

  <cacheModel id="VRpDyCellHoIbc-Cache" readOnly="true" serialize="false" type="LRU">
	  <flushInterval hours="1" />
	  <flushOnExecute statement="H_CELL.ibatorgenerated_insert" />
	  <flushOnExecute statement="H_CELL.ibatorgenerated_updateByPrimaryKey" />
	  <flushOnExecute statement="H_CELL.ibatorgenerated_deleteByPrimaryKey" />
	  <property name="cache-size" value="1000" />
  </cacheModel>
  
   <select cacheModel="VRpDyCellHoIbc-Cache" id="filter" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VRpDyCellHoIbc" resultMap="ibatorgenerated_BaseResultMap">
  	select *
    from V_RP_DY_CELL_HO_IBC
    <dynamic prepend="where">
    <isNotEmpty prepend="and" property="bscid">
        UPPER(BSCID) LIKE '%' || UPPER(#bscid:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="cellid">
        UPPER(CELLID) LIKE '%' || UPPER(#cellid:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="day">
        DAY = TRUNC(#day:DATE#)
      </isNotEmpty>
    </dynamic>
    order by BSCID asc
  </select>
  
  <parameterMap class="java.util.Map" id="filterDyCellHoDetails">
    <parameter property="bscid" />
    <parameter property="cellid" />
    <parameter property="startDate" />
    <parameter property="endDate" />
  </parameterMap>
  
  <select cacheModel="VRpDyCellHoIbc-Cache" id="filterDetails" parameterMap="filterDyCellHoDetails" resultMap="ibatorgenerated_BaseResultMap">
  	select *
    from V_RP_DY_CELL_HO_IBC
    <dynamic prepend="where">
    <isNotEmpty prepend="and" property="bscid">
        UPPER(BSCID) = UPPER(#bscid:VARCHAR#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="cellid">
        UPPER(CELLID) = UPPER(#cellid:VARCHAR#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="startDate">
        DAY <![CDATA[ >= ]]> to_date(#startDate#, 'DD/MM/YYYY')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endDate">
        DAY <![CDATA[ <= ]]> to_date(#endDate#, 'DD/MM/YYYY')
      </isNotEmpty>
    </dynamic>
    order by BSCID asc
  </select>
</sqlMap>