<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="V_AL_RB_LOSS_POWER">
  <resultMap class="vo.VAlRbLossPower" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 29 10:02:36 ICT 2012.
    -->
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="ALARM_ID" jdbcType="DECIMAL" property="alarmId" />
    <result column="BSCID" jdbcType="NVARCHAR" property="bscid" />
    <result column="CELLID" jdbcType="NVARCHAR" property="cellid" />
    <result column="SDATE" jdbcType="TIMESTAMP" property="sdate" />
    <result column="EDATE" jdbcType="TIMESTAMP" property="edate" />
    <result column="DDH_BAO_MD" jdbcType="TIMESTAMP" property="ddhBaoMd" />
    <result column="MLL_ALARM_ID" jdbcType="DECIMAL" property="mllAlarmId" />
    <result column="MLL_SDATE" jdbcType="TIMESTAMP" property="mllSdate" />
    <result column="MLL_EDATE" jdbcType="TIMESTAMP" property="mllEdate" />
    <result column="DDH_BAO_MLL" jdbcType="TIMESTAMP" property="ddhBaoMll" />
    <result column="DVT_TEAM_PROCESS" jdbcType="NVARCHAR" property="dvtTeamProcess" />
    <result column="DVT_USER_PROCESS" jdbcType="NVARCHAR" property="dvtUserProcess" />
    <result column="UNG_CUU_MPD" jdbcType="NVARCHAR" property="ungCuuMpd" />
    <result column="NODE_TRUYEN_DAN" jdbcType="NVARCHAR" property="nodeTruyenDan" />
    <result column="AC_LOW" jdbcType="NVARCHAR" property="acLow" />
    <result column="DESCRIPTION" jdbcType="NVARCHAR" property="description" />
    <result column="SHIFT_ID" jdbcType="DECIMAL" property="shiftId" />
    <result column="DIFFMD" jdbcType="OTHER" property="diffmd" />
    <result column="DIFFMLL" jdbcType="OTHER" property="diffmll" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vo.VAlRbLossPower">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 29 10:02:36 ICT 2012.
    -->
    insert into V_AL_RB_LOSS_POWER (ID, ALARM_ID, BSCID, CELLID, SDATE, EDATE, DDH_BAO_MD,
      MLL_ALARM_ID, MLL_SDATE, MLL_EDATE, DDH_BAO_MLL, DVT_TEAM_PROCESS, DVT_USER_PROCESS,
      UNG_CUU_MPD, NODE_TRUYEN_DAN, AC_LOW, DESCRIPTION, SHIFT_ID, DIFFMD, DIFFMLL)
    values (#id:DECIMAL#, #alarmId:DECIMAL#, #bscid:NVARCHAR#, #cellid:NVARCHAR#, #sdate:TIMESTAMP#,
      #edate:TIMESTAMP#, #ddhBaoMd:TIMESTAMP#, #mllAlarmId:DECIMAL#, #mllSdate:TIMESTAMP#,
      #mllEdate:TIMESTAMP#, #ddhBaoMll:TIMESTAMP#, #dvtTeamProcess:NVARCHAR#,
      #dvtUserProcess:NVARCHAR#, #ungCuuMpd:NVARCHAR#, #nodeTruyenDan:NVARCHAR#, #acLow:NVARCHAR#,
      #description:NVARCHAR#, #shiftId:DECIMAL#, #diffmd:OTHER#, #diffmll:OTHER#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.VAlRbLossPower">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 29 10:02:36 ICT 2012.
    -->
    insert into V_AL_RB_LOSS_POWER
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        ID
      </isNotNull>
      <isNotNull prepend="," property="alarmId">
        ALARM_ID
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        BSCID
      </isNotNull>
      <isNotNull prepend="," property="cellid">
        CELLID
      </isNotNull>
      <isNotNull prepend="," property="sdate">
        SDATE
      </isNotNull>
      <isNotNull prepend="," property="edate">
        EDATE
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMd">
        DDH_BAO_MD
      </isNotNull>
      <isNotNull prepend="," property="mllAlarmId">
        MLL_ALARM_ID
      </isNotNull>
      <isNotNull prepend="," property="mllSdate">
        MLL_SDATE
      </isNotNull>
      <isNotNull prepend="," property="mllEdate">
        MLL_EDATE
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMll">
        DDH_BAO_MLL
      </isNotNull>
      <isNotNull prepend="," property="dvtTeamProcess">
        DVT_TEAM_PROCESS
      </isNotNull>
      <isNotNull prepend="," property="dvtUserProcess">
        DVT_USER_PROCESS
      </isNotNull>
      <isNotNull prepend="," property="ungCuuMpd">
        UNG_CUU_MPD
      </isNotNull>
      <isNotNull prepend="," property="nodeTruyenDan">
        NODE_TRUYEN_DAN
      </isNotNull>
      <isNotNull prepend="," property="acLow">
        AC_LOW
      </isNotNull>
      <isNotNull prepend="," property="mch1800">
        MCH_1800
      </isNotNull>
      <isNotNull prepend="," property="description">
        DESCRIPTION
      </isNotNull>
      <isNotNull prepend="," property="shiftId">
        SHIFT_ID
      </isNotNull>
      <isNotNull prepend="," property="diffmd">
        DIFFMD
      </isNotNull>
      <isNotNull prepend="," property="diffmll">
        DIFFMLL
      </isNotNull>
       <isNotNull prepend="," property="region">
        REGION
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="alarmId">
        #alarmId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        #bscid:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cellid">
        #cellid:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sdate">
        #sdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="edate">
        #edate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMd">
        #ddhBaoMd:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mllAlarmId">
        #mllAlarmId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="mllSdate">
        #mllSdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mllEdate">
        #mllEdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMll">
        #ddhBaoMll:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="dvtTeamProcess">
        #dvtTeamProcess:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dvtUserProcess">
        #dvtUserProcess:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ungCuuMpd">
        #ungCuuMpd:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nodeTruyenDan">
        #nodeTruyenDan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="acLow">
        #acLow:NVARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="mch1800">
        #mch1800:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description">
        #description:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shiftId">
        #shiftId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="diffmd">
        #diffmd:OTHER#
      </isNotNull>
      <isNotNull prepend="," property="diffmll">
        #diffmll:OTHER#
      </isNotNull>
       <isNotNull prepend="," property="region">
        #region:NVARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterClass="vo.VAlRbLossPower">
   update V_AL_RB_LOSS_POWER
    <dynamic prepend="set">
      <isNotNull prepend="," property="alarmId">
        ALARM_ID = #alarmId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        BSCID = #bscid:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cellid">
        CELLID = #cellid:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sdate">
        SDATE = #sdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="edate">
        EDATE = #edate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMd">
        DDH_BAO_MD = #ddhBaoMd:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mllAlarmId">
        MLL_ALARM_ID = #mllAlarmId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="mllSdate">
        MLL_SDATE = #mllSdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mllEdate">
        MLL_EDATE = #mllEdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="ddhBaoMll">
        DDH_BAO_MLL = #ddhBaoMll:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="dvtTeamProcess">
        DVT_TEAM_PROCESS = #dvtTeamProcess:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dvtUserProcess">
        DVT_USER_PROCESS = #dvtUserProcess:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ungCuuMpd">
        UNG_CUU_MPD = #ungCuuMpd:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nodeTruyenDan">
        NODE_TRUYEN_DAN = #nodeTruyenDan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="acLow">
        AC_LOW = #acLow:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description">
        DESCRIPTION = #description:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shiftId">
        SHIFT_ID = #shiftId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="diffmd">
        DIFFMD = #diffmd:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="diffmll">
        DIFFMLL = #diffmll:DECIMAL#
      </isNotNull>
    </dynamic>
    where ID = #id:DECIMAL#
  </update>

  
    <parameterMap class="java.util.Map" id="parameterfilter">
	  	<parameter property="startTime" />
	  	<parameter property="endTime" />
	    <parameter property="dvtTeamProcess" />
	     <parameter property="ungCuuMpd" />
	    <parameter property="nodeTruyenDan" />
	    <parameter property="acLow" />
	    <parameter property="column" />
	    <parameter property="order" />
  </parameterMap>
  
    <!-- <select id="getVAlRbLossPowerFilter" parameterMap="parameterfilter" resultMap="ibatorgenerated_BaseResultMap">
  	SELECT W.ID AS ID
	  	 W.ALARM_ID AS ALARM_ID
	  	 W.BSCID AS BSCID
	  	 W.CELLID AS CELLID
	  	 W.SDATE AS SDATE
	  	 W.EDATE AS EDATE
	  	 W.DDH_BAO_MD AS DDH_BAO_MD
	     W.MLL_ALARM_ID AS MLL_ALARM_ID
	     W.MLL_SDATE AS MLL_SDATE
	     W.MLL_EDATE AS MLL_EDATE
	     W.DDH_BAO_MLL AS DDH_BAO_MLL
	     M.ABBREVIATED AS DVT_TEAM_PROCESS
	     W.DVT_USER_PROCESS AS DVT_USER_PROCESS
	     W.UNG_CUU_MPD  AS UNG_CUU_MPD
	     W.NODE_TRUYEN_DAN AS NODE_TRUYEN_DAN
	     W.AC_LOW  AS AC_LOW
	     W.DESCRIPTION AS DESCRIPTION
	     W.SHIFT_ID AS SHIFT_ID
	     W.DIFFMD AS DIFFMD
	     W.DIFFMLL AS DIFFMLL
  	
  	FROM V_AL_RB_LOSS_POWER W 
  	left JOIN M_DEPARTMENT M ON W.TEAM_PROCESS = M.DEPT_CODE
  	<dynamic prepend="where">
  	    
      <isNotEmpty prepend="and" property="ungCuuMpd">
        W.UNG_CUU_MPD= #ungCuuMpd:NVARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="nodeTruyenDan">
        W.NODE_TRUYEN_DAN= #nodeTruyenDan:NVARCHAR#
      </isNotEmpty>
	<isNotEmpty prepend="and" property="acLow">
        W.AC_LOW= #acLow:NVARCHAR#
      </isNotEmpty>
  	   <isNotEmpty prepend="and" property="endTime">
		  (
		  	(
					to_date(to_char(NVL(W.SDATE,TO_DATE ('29/01/1927 00:00:00', 'dd/MM/yyyy HH24:mi:ss')),'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ <= ]]> to_date(#startTime:VARCHAR#,'dd/MM/yyyy HH24:mi:ss')
					and to_date(to_char(NVL(W.EDATE,TO_DATE ('29/01/1927 00:00:00', 'dd/MM/yyyy HH24:mi:ss')),'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ >= ]]> to_date(#startTime:VARCHAR#,'dd/MM/yyyy HH24:mi:ss')
				)
				OR
				(
					to_date(to_char(NVL(W.SDATE,TO_DATE ('29/01/1927 00:00:00', 'dd/MM/yyyy HH24:mi:ss')),'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ >= ]]> to_date(#start_Time:VARCHAR#,'dd/MM/yyyy HH24:mi:ss')
					and to_date(to_char(NVL(W.SDATE,TO_DATE ('29/01/1927 00:00:00', 'dd/MM/yyyy HH24:mi:ss')),'dd/MM/yyyy HH24:mi:ss'),'dd/MM/yyyy HH24:mi:ss') <![CDATA[ <= ]]> to_date(#endTime:VARCHAR#,'dd/MM/yyyy HH24:mi:ss')
				)
			)
		  </isNotEmpty>
     
    </dynamic>
  
 	 ORDER BY UPPER($column$) $order$
  </select> -->
  <resultMap class="vo.VAlRbLossPower" id="resultMapFilter">
 	<result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="ALARM_ID" jdbcType="DECIMAL" property="alarmId" />
    <result column="BSCID" jdbcType="NVARCHAR" property="bscid" />
    <result column="CELLID" jdbcType="NVARCHAR" property="cellid" />
    <result column="SDATE" jdbcType="TIMESTAMP" property="sdate" />
    <result column="EDATE" jdbcType="TIMESTAMP" property="edate" />
    <result column="DDH_BAO_MD" jdbcType="TIMESTAMP" property="ddhBaoMd" />
    <result column="MLL_ALARM_ID" jdbcType="DECIMAL" property="mllAlarmId" />
    <result column="MLL_SDATE" jdbcType="TIMESTAMP" property="mllSdate" />
    <result column="MLL_EDATE" jdbcType="TIMESTAMP" property="mllEdate" />
    <result column="DDH_BAO_MLL" jdbcType="TIMESTAMP" property="ddhBaoMll" />
    <result column="DVT_TEAM_PROCESS" jdbcType="NVARCHAR" property="dvtTeamProcess" />
    <result column="DVT_USER_PROCESS" jdbcType="NVARCHAR" property="dvtUserProcess" />
    <result column="UNG_CUU_MPD" jdbcType="NVARCHAR" property="ungCuuMpd" />
    <result column="NODE_TRUYEN_DAN" jdbcType="NVARCHAR" property="nodeTruyenDan" />
    <result column="AC_LOW" jdbcType="NVARCHAR" property="acLow" />
    <result column="DESCRIPTION" jdbcType="NVARCHAR" property="description" />
    <result column="SHIFT_ID" jdbcType="DECIMAL" property="shiftId" />
 <!--    <result column="DIFFMD" jdbcType="NVARCHAR" property="diffmd" />
    <result column="DIFFMLL" jdbcType="NVARCHAR" property="diffmll" /> -->
    <result column="TG_MD" jdbcType="DECIMAL" property="tgMD" />
    <result column="TG_MLL" jdbcType="DECIMAL" property="tgMLL" />
    <result column="MCH_1800" jdbcType="NVARCHAR" property="mch1800" />
      <result column="REGION" jdbcType="NVARCHAR" property="region" />
  </resultMap>	 
  <procedure id="getVAlRbLossPowerFilter" parameterClass="java.util.Map" resultMap="resultMapFilter">
      {
	      call PK_ALARM_LOSS_POWER.GETVAlRbLossPowerFilter
	      (
	      	#P_SDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_EDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
	      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      	#P_timeTotalF,jdbcType=DECIMAL,mode=IN#,
	      	#P_timeTotalE,jdbcType=DECIMAL,mode=IN#,
	      	#P_DVT_TEAM_PROCESS,jdbcType=VARCHAR,mode=IN#,
	      	#P_DVT_USER_PROCESS,jdbcType=VARCHAR,mode=IN#,
	      	#P_UNG_CUU_MPD,jdbcType=VARCHAR,mode=IN#,
			#P_NODE_TRUYEN_DAN,jdbcType=VARCHAR,mode=IN#,
			#P_AC_LOW,jdbcType=VARCHAR,mode=IN#,
			#P_MCH_1800,jdbcType=VARCHAR,mode=IN#,
			#P_statusKTMD,jdbcType=VARCHAR,mode=IN#,
			#P_statusKTMLL,jdbcType=VARCHAR,mode=IN#,
			#P_COLUMN,jdbcType=VARCHAR,mode=IN#,
			#P_ORDER,jdbcType=VARCHAR,mode=IN#,
			#P_REGION,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
  <procedure id="UPDATEVAlRbLossPower">
	      {
	      	call PK_ALARM_LOSS_POWER.UPDATEVAlRbLossPower
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#,
		      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
		      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      		#P_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DDH_BAO_MD,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_MLL_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_MLL_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DDH_BAO_MLL,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DVT_TEAM_PROCESS,jdbcType=VARCHAR,mode=IN#,
		      	#P_DVT_USER_PROCESS,jdbcType=VARCHAR,mode=IN#,
		      	#P_UNG_CUU_MPD,jdbcType=VARCHAR,mode=IN#,
				#P_NODE_TRUYEN_DAN,jdbcType=VARCHAR,mode=IN#,
				#P_AC_LOW,jdbcType=VARCHAR,mode=IN#,
				#P_MCH_1800,jdbcType=VARCHAR,mode=IN#,
				#P_DESCRIPTION,jdbcType=VARCHAR,mode=IN#,
				#P_SHIFT_ID,jdbcType=DECIMAL,mode=IN#,
				#P_ALARM_ID,jdbcType=DECIMAL,mode=IN#,
				#P_REGION,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 
    <procedure id="selectByPrimaryKey" parameterClass="java.util.Map" resultMap="resultMapFilter">
	      {
	      	call PK_ALARM_LOSS_POWER.PR_RB_LOSSPOWER_BY_ID
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
	 </procedure>
	 
    <procedure id="deleteByPrimaryKey" parameterClass="java.util.Map" >
	      {
	      	call PK_ALARM_LOSS_POWER.PR_RB_LOSSPOWER_DELETE
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#
	      	)
	      }
	 </procedure>
    
  <!-- <delete id="deleteByPrimaryKey" parameterClass="vo.VAlRbLossPower">
    
    delete from r_alarm_log
    where ID = #id:DECIMAL#
  </delete>
   -->
   <resultMap class="vo.SYS_PARAMETER" id="resultTitleForm">
	    <result column="ID" jdbcType="DECIMAL" property="id" />
	    <result column="CODE" jdbcType="NVARCHAR" property="code" />
	    <result column="NAME" jdbcType="NVARCHAR" property="name" />
	    <result column="VALUE" jdbcType="NVARCHAR" property="value" />
	    <result column="ORDERING" jdbcType="DECIMAL" property="ordering" />
	    <result column="DATA_TYPE" jdbcType="NVARCHAR" property="dataType" />
	    <result column="CREATED_BY" jdbcType="NVARCHAR" property="createdBy" />
	    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
	    <result column="MODIFIED_BY" jdbcType="NVARCHAR" property="modifiedBy" />
	    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
	    <result column="REMARK" jdbcType="NVARCHAR" property="remark" />
	  </resultMap>
    <procedure id="titleForm" resultMap="resultTitleForm">
	      {
	      	call PK_ALARM_LOSS_POWER.PR_GET_TITLE_LOSSPOWER
	      	(
	      		#P_TYPE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
   <resultMap class="vo.DetailLostConfig" id="resultMapDetail">
 	<result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="ALARM" jdbcType="NVARCHAR" property="alarm" />
    <result column="SITE" jdbcType="NVARCHAR" property="site" />
    <result column="SDATE" jdbcType="TIMESTAMP" property="sdate" />
    <result column="EDATE" jdbcType="TIMESTAMP" property="edate" />
    <result column="ALARM_TYPE" jdbcType="NVARCHAR" property="alarmType" />
    <result column="BSCID" jdbcType="NVARCHAR" property="bscid" />
    <result column="ALARM_CLASS" jdbcType="NVARCHAR" property="alarmClass" />
    <result column="TG_MD" jdbcType="NVARCHAR" property="tgMD" />
    <result column="ALARM_INFO" jdbcType="NVARCHAR" property="alarmInfo" />
  </resultMap>	
  
   <procedure id="getDetail" parameterClass="java.util.Map" resultMap="resultMapDetail">
      {
	      call PK_ALARM_LOSS_POWER.PR_DY_RP_LOSSPOWER_DETAIL
	      (
	      	#P_SDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
	      	#P_SITE,jdbcType=VARCHAR,mode=IN#,
			#P_COLUMN,jdbcType=VARCHAR,mode=IN#,
			#P_ORDER,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
    <procedure id="checkExits" parameterClass="java.util.Map" resultMap="resultMapFilter">
      {
	      call PK_ALARM_LOSS_POWER.PR_AL_RB_lOSS_POWER_CHECK
	      (
			#P_SDATE,jdbcType=TIMESTAMP,mode=IN#,
	      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
	      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      	#P_SHIFT_SDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 <!-- chuc nang doi soat mat dien chay may no -->
 <resultMap class="vo.VAlRbLossPower" id="ResultMapCompare">
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="BSCID" jdbcType="NVARCHAR" property="bscid" />
    <result column="CELLID" jdbcType="NVARCHAR" property="cellid" />
    <result column="SITENAME" jdbcType="NVARCHAR" property="siteName" />
    <result column="SDATE" jdbcType="TIMESTAMP" property="sdate" />
    <result column="EDATE" jdbcType="TIMESTAMP" property="edate" />
    <result column="PROVINCE" jdbcType="NVARCHAR" property="province" />
    <result column="DISTRICT" jdbcType="NVARCHAR" property="district" />
    <result column="DEPT" jdbcType="NVARCHAR" property="dept" />
    <result column="TEAM" jdbcType="NVARCHAR" property="team" />
    <result column="SUB_TEAM" jdbcType="NVARCHAR" property="groups" />
    <result column="SHIFT_USER" jdbcType="NVARCHAR" property="shiftUser" />
    <result column="DESCRIPTION" jdbcType="NVARCHAR" property="description" />
    <result column="SHIFT_SDATE" jdbcType="TIMESTAMP" property="shiftSdate" />
    <result column="SHIFT_EDATE" jdbcType="TIMESTAMP" property="shiftEdate" />
   <!--  <result column="COMPARE_SDATE" jdbcType="TIMESTAMP" property="compareSdate" />
    <result column="COMPARE_EDATE" jdbcType="TIMESTAMP" property="compareEdate" />
    <result column="DUARATION" jdbcType="DECIMAL" property="compareDuaration" />  -->
    <result column="SHIFT_ID" jdbcType="DECIMAL" property="shiftId" />
    <result column="ID_LOG" jdbcType="DECIMAL" property="idLog" />
    <result column="ASSESS" jdbcType="VARCHAR" property="assess" />
    <result column="TOTAL_DATA" jdbcType="DECIMAL" property="totalData" />
    <result column="TOTAL_LOG" jdbcType="DECIMAL" property="totalLog" />
    <result column="TOTAL_COMPARE" jdbcType="DECIMAL" property="totalCompare" />
  </resultMap>
  <!-- LAU DU LIEU DOI SOAT MAY NO THEO DIEU KIEN TIM KIEM. ANHCTV/ 22/12/2013 -->
   <procedure id="getCompareLossPowerList" parameterClass="java.util.Map" resultMap="ResultMapCompare">
      {
	      call PK_ALARM_LOSS_POWER.PR_RP_LOSSPOWER_COMPARE_GET
	      (
	      	#P_SDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_EDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
			#P_CELLID,jdbcType=VARCHAR,mode=IN#,
			#P_SITENAME,jdbcType=VARCHAR,mode=IN#,
			#P_TEAM,jdbcType=VARCHAR,mode=IN#,
			#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
			#P_DISTRICT,jdbcType=VARCHAR,mode=IN#,
			#P_WHERE,jdbcType=VARCHAR,mode=IN#,
			#P_START_RECORD,jdbcType=DECIMAL,mode=IN#,
			#P_END_RECORD,jdbcType=DECIMAL,mode=IN#,
			#P_COLUMN,jdbcType=VARCHAR,mode=IN#,
			#P_ORDER,jdbcType=VARCHAR,mode=IN#,
			#P_DEPT,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 <resultMap class="vo.VAlRbLossPower" id="ResultMapCompareID">
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="BSCID" jdbcType="NVARCHAR" property="bscid" />
    <result column="CELLID" jdbcType="NVARCHAR" property="cellid" />
    <result column="SITENAME" jdbcType="NVARCHAR" property="siteName" />
    <result column="SDATE" jdbcType="TIMESTAMP" property="sdate" />
    <result column="EDATE" jdbcType="TIMESTAMP" property="edate" />
    <result column="PROVINCE" jdbcType="NVARCHAR" property="province" />
    <result column="DISTRICT" jdbcType="NVARCHAR" property="district" />
    <result column="DEPT" jdbcType="NVARCHAR" property="dept" />
    <result column="TEAM" jdbcType="NVARCHAR" property="team" />
    <result column="SUB_TEAM" jdbcType="NVARCHAR" property="groups" />
    <result column="SHIFT_USER" jdbcType="NVARCHAR" property="shiftUser" />
    <result column="DESCRIPTION" jdbcType="NVARCHAR" property="description" />
    <result column="SHIFT_SDATE" jdbcType="TIMESTAMP" property="shiftSdate" />
    <result column="SHIFT_EDATE" jdbcType="TIMESTAMP" property="shiftEdate" />
    <result column="SHIFT_ID" jdbcType="DECIMAL" property="shiftId" />
    <result column="ID_LOG" jdbcType="DECIMAL" property="idLog" />
    <result column="ASSESS" jdbcType="VARCHAR" property="assess" />
  </resultMap>
 <!-- lay canh bao mat dien theo ID  -->
 <procedure id="selectCompareByID" parameterClass="java.util.Map" resultMap="ResultMapCompareID">
      {
	      call PK_ALARM_LOSS_POWER.PR_RP_LOSSPOWER_COMPARE_BYID
	      (
	      	#P_ID,jdbcType=DECIMAL,mode=IN#,
	      	#P_ID_LOG,jdbcType=DECIMAL,mode=IN#,
      		#P_BSCID,jdbcType=VARCHAR,mode=IN#,
	      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      	#P_SDATE,jdbcType=TIMESTAMP,mode=IN#,
	      	#P_SHIFT_SDATE,jdbcType=TIMESTAMP,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 <!-- upate/insert thong tin mat dien  -->
 <procedure id="updateCompareLossPower">
	      {
	      	call PK_ALARM_LOSS_POWER.PR_RP_LOSSPOWER_COMPARE_UPDATE
	      	(
	      		#P_ID,jdbcType=DECIMAL,mode=IN#,
	      		#P_ID_LOG,jdbcType=DECIMAL,mode=IN#,
		      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
		      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      		#P_SITENAME,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_PROVINCE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DISTRICT,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DEPT,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_TEAM,jdbcType=VARCHAR,mode=IN#,
		      	#P_SUB_TEAM,jdbcType=VARCHAR,mode=IN#,
		      	#P_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_ID,jdbcType=DECIMAL,mode=IN#,
				#P_SHIFT_USER,jdbcType=VARCHAR,mode=IN#,
				#P_DESCRIPTION,jdbcType=VARCHAR,mode=IN#,
				#P_TYPEFORM,jdbcType=VARCHAR,mode=IN#,
				#P_SDATE_STR,jdbcType=VARCHAR,mode=IN#,
				#P_SHIFT_SDATE_STR,jdbcType=VARCHAR,mode=IN#,
				#P_ASSESS,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 
	 
	 
	  <procedure id="countRAlarmLoss" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_ALARM_LOSS_POWER.PR_COMPARE_LOSSPOWER_COUNT
		      (	
		      	#P_SDATE,jdbcType=VARCHAR,mode=IN#,
		      	#P_EDATE,jdbcType=VARCHAR,mode=IN#,
		      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
		      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
		      	#P_SITENAME,jdbcType=VARCHAR,mode=IN#,
		      	#P_TEAM,jdbcType=VARCHAR,mode=IN#,
	      		#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
	      		#P_DISTRICT,jdbcType=VARCHAR,mode=IN#,
				#P_WHERE,jdbcType=VARCHAR,mode=IN#,
				#P_DEPT,jdbcType=VARCHAR,mode=IN#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure>
   
   
<!--    INSERT DU LIEU FILE UPLOAD VAO BANG TAM -->
   
   <procedure id="insertRAlarmLossPowerTemp">
	      {
	      	call PK_ALARM_LOSS_POWER_MLMN.PR_RP_LOSSPOWER_TEMP_INSERT
	      	(
	      		#P_BSCID,jdbcType=VARCHAR,mode=IN#,
		      	#P_CELLID,jdbcType=VARCHAR,mode=IN#,
	      		#P_SITENAME,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_PROVINCE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DISTRICT,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_DEPT,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_TEAM,jdbcType=VARCHAR,mode=IN#,
		      	#P_SUB_TEAM,jdbcType=VARCHAR,mode=IN#,
		      	#P_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_SDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_EDATE,jdbcType=TIMESTAMP,mode=IN#,
		      	#P_SHIFT_ID,jdbcType=DECIMAL,mode=IN#,
				#P_SHIFT_USER,jdbcType=VARCHAR,mode=IN#,
				#P_DESCRIPTION,jdbcType=VARCHAR,mode=IN#,
				#P_ASSESS,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 
	 <!--    INSERT DU LIEU FILE COMPARE -->
	 <procedure id="deleteAlarmLossPowerCompare">
	      {
	      	call PK_ALARM_LOSS_POWER.PR_RP_LOSSPOWER_COMPARE_DEL
	      	(
	      		#P_ID_LIST,jdbcType=VARCHAR,mode=IN#,
		      	#P_ID_LOG_LIST,jdbcType=VARCHAR,mode=IN#
	      	)
	      }
	 </procedure>
	 
	 <!--/*Lay danh sach canh bao mat dien khop va khong khop. AnhCTV 16/10/2015*/-->
   <procedure id="getCompareLossPowerMLMNList" parameterClass="java.util.Map" resultMap="ResultMapCompare">
      {
	      call PK_ALARM_LOSS_POWER_MLMN.PR_RP_LOSSPOWER_COMPARE_GET
	      (
	      	#P_SDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_EDATE,jdbcType=VARCHAR,mode=IN#,
	      	#P_BSCID,jdbcType=VARCHAR,mode=IN#,
			#P_CELLID,jdbcType=VARCHAR,mode=IN#,
			#P_SITENAME,jdbcType=VARCHAR,mode=IN#,
			#P_TEAM,jdbcType=VARCHAR,mode=IN#,
			#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
			#P_DISTRICT,jdbcType=VARCHAR,mode=IN#,
			#P_DEPT,jdbcType=VARCHAR,mode=IN#,
			#P_TYPE,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
</sqlMap>