<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="QLDN_THONG_TIN_MAY_NO" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vo.QldnThongTinMayNo" >
    <!--
     	TRUNGNQ THEM 4 COT TEN_TRAM, TINH, TO_VT, NHOM
    -->
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="ID_TRAM" property="idTram" jdbcType="VARCHAR" />
    <result column="ID_DTXD" property="idDtxd" jdbcType="VARCHAR" />
    <result column="ATS" property="ats" jdbcType="VARCHAR" />
    <result column="HIEU_MAY_NO" property="hieuMayNo" jdbcType="VARCHAR" />
    <result column="CONG_SUAT" property="congSuat" jdbcType="VARCHAR" />
    <result column="DINH_MUC" property="dinhMuc" jdbcType="VARCHAR" />
    <result column="SO_HOP_DONG" property="soHopDong" jdbcType="VARCHAR" />
    <result column="TEN_CHU_NHA" property="tenChuNha" jdbcType="VARCHAR" />
    <result column="LOAI_NHIEN_LIEU" property="loaiNhienLieu" jdbcType="VARCHAR" />
    <result column="LOAI_THANH_TOAN" property="loaiThanhToan" jdbcType="VARCHAR" />
    <result column="NGAY_TAO" property="ngayTao" jdbcType="TIMESTAMP" />
    <result column="NGUOI_TAO" property="nguoiTao" jdbcType="VARCHAR" />
    <result column="NGAY_SUA" property="ngaySua" jdbcType="TIMESTAMP" />
    <result column="NGUOI_SUA" property="nguoiSua" jdbcType="VARCHAR" />
    <result column="TEN_XHH_VTT" property="tenXhhVtt" jdbcType="VARCHAR" />
    <result column="GHI_CHU" property="ghiChu" jdbcType="VARCHAR" />
    <result column="TINH_TRANG" property="tinhTrang" jdbcType="VARCHAR" />
    <result column="MUC_TAI" property="mucTai" jdbcType="VARCHAR" />
    <result column="DM_DIEN" property="dmDien" jdbcType="VARCHAR" />
    <result column="TEN_TRAM" property="tenTram" jdbcType="VARCHAR" />
    <result column="TINH" property="tinh" jdbcType="VARCHAR" />
    <result column="TO_VT" property="to" jdbcType="VARCHAR" />
    <result column="NHOM" property="nhom" jdbcType="VARCHAR" />  
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      TRUNGNQ THEM 4 COT TEN_TRAM, TINH, TO_VT, NHOM
    -->
    select ID, ID_TRAM, ID_DTXD, ATS, HIEU_MAY_NO, CONG_SUAT, DINH_MUC, SO_HOP_DONG, TEN_CHU_NHA,
      LOAI_NHIEN_LIEU, LOAI_THANH_TOAN, NGAY_TAO, NGUOI_TAO, NGAY_SUA, NGUOI_SUA, TEN_XHH_VTT,
      GHI_CHU, TINH_TRANG, MUC_TAI, DM_DIEN, TEN_TRAM, TINH, TO_VT, NHOM
    from QLDN_THONG_TIN_MAY_NO
    where ID = #id:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
    delete from QLDN_THONG_TIN_MAY_NO
    where ID = #id:DECIMAL#
  </delete>
 <insert id="ibatorgenerated_insert" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
    insert into QLDN_THONG_TIN_MAY_NO (ID, ID_TRAM, ID_DTXD, ATS, HIEU_MAY_NO, CONG_SUAT, DINH_MUC,
      SO_HOP_DONG, TEN_CHU_NHA, LOAI_NHIEN_LIEU, LOAI_THANH_TOAN, NGAY_TAO, NGUOI_TAO, NGAY_SUA,
      NGUOI_SUA, TEN_XHH_VTT, GHI_CHU, TINH_TRANG, MUC_TAI, DM_DIEN, TO_VT)
    values (#id:DECIMAL#, #idTram:VARCHAR#, #idDtxd:VARCHAR#, #ats:VARCHAR#, #hieuMayNo:VARCHAR#,
      #congSuat:VARCHAR#, #dinhMuc:VARCHAR#, #soHopDong:VARCHAR#, #tenChuNha:VARCHAR#,
      #loaiNhienLieu:VARCHAR#, #loaiThanhToan:VARCHAR#, #ngayTao:TIMESTAMP#, #nguoiTao:VARCHAR#,
      #ngaySua:TIMESTAMP#, #nguoiSua:VARCHAR#, #tenXhhVtt:VARCHAR#, #ghiChu:VARCHAR#,
      #tinhTrang:VARCHAR#, #mucTai:VARCHAR#, #dmDien:VARCHAR#, #to:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
    insert into QLDN_THONG_TIN_MAY_NO
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      <isNotNull prepend="," property="idTram" >
        ID_TRAM
      </isNotNull>
      <isNotNull prepend="," property="idDtxd" >
        ID_DTXD
      </isNotNull>
      <isNotNull prepend="," property="ats" >
        ATS
      </isNotNull>
      <isNotNull prepend="," property="hieuMayNo" >
        HIEU_MAY_NO
      </isNotNull>
      <isNotNull prepend="," property="congSuat" >
        CONG_SUAT
      </isNotNull>
      <isNotNull prepend="," property="dinhMuc" >
        DINH_MUC
      </isNotNull>
      <isNotNull prepend="," property="soHopDong" >
        SO_HOP_DONG
      </isNotNull>
      <isNotNull prepend="," property="tenChuNha" >
        TEN_CHU_NHA
      </isNotNull>
      <isNotNull prepend="," property="loaiNhienLieu" >
        LOAI_NHIEN_LIEU
      </isNotNull>
      <isNotNull prepend="," property="loaiThanhToan" >
        LOAI_THANH_TOAN
      </isNotNull>
      <isNotNull prepend="," property="ngayTao" >
        NGAY_TAO
      </isNotNull>
      <isNotNull prepend="," property="nguoiTao" >
        NGUOI_TAO
      </isNotNull>
      <isNotNull prepend="," property="ngaySua" >
        NGAY_SUA
      </isNotNull>
      <isNotNull prepend="," property="nguoiSua" >
        NGUOI_SUA
      </isNotNull>
      <isNotNull prepend="," property="tenXhhVtt" >
        TEN_XHH_VTT
      </isNotNull>
      <isNotNull prepend="," property="ghiChu" >
        GHI_CHU
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang" >
        TINH_TRANG
      </isNotNull>
      <isNotNull prepend="," property="mucTai" >
        MUC_TAI
      </isNotNull>
      <isNotNull prepend="," property="dmDien" >
        DM_DIEN
      </isNotNull>
      <isNotNull prepend="," property="to" >
       TO_VT
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="idTram" >
        #idTram:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="idDtxd" >
        #idDtxd:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ats" >
        #ats:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="hieuMayNo" >
        #hieuMayNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="congSuat" >
        #congSuat:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dinhMuc" >
        #dinhMuc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="soHopDong" >
        #soHopDong:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tenChuNha" >
        #tenChuNha:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="loaiNhienLieu" >
        #loaiNhienLieu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="loaiThanhToan" >
        #loaiThanhToan:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ngayTao" >
        #ngayTao:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nguoiTao" >
        #nguoiTao:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ngaySua" >
        #ngaySua:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nguoiSua" >
        #nguoiSua:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tenXhhVtt" >
        #tenXhhVtt:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ghiChu" >
        #ghiChu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang" >
        #tinhTrang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mucTai" >
        #mucTai:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dmDien" >
        #dmDien:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="to" >
        #to:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
    update QLDN_THONG_TIN_MAY_NO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="idTram" >
        ID_TRAM = #idTram:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="idDtxd" >
        ID_DTXD = #idDtxd:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ats" >
        ATS = #ats:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="hieuMayNo" >
        HIEU_MAY_NO = #hieuMayNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="congSuat" >
        CONG_SUAT = #congSuat:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dinhMuc" >
        DINH_MUC = #dinhMuc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="soHopDong" >
        SO_HOP_DONG = #soHopDong:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tenChuNha" >
        TEN_CHU_NHA = #tenChuNha:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="loaiNhienLieu" >
        LOAI_NHIEN_LIEU = #loaiNhienLieu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="loaiThanhToan" >
        LOAI_THANH_TOAN = #loaiThanhToan:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ngayTao" >
        NGAY_TAO = #ngayTao:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nguoiTao" >
        NGUOI_TAO = #nguoiTao:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ngaySua" >
        NGAY_SUA = #ngaySua:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nguoiSua" >
        NGUOI_SUA = #nguoiSua:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tenXhhVtt" >
        TEN_XHH_VTT = #tenXhhVtt:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ghiChu" >
        GHI_CHU = #ghiChu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tinhTrang" >
        TINH_TRANG = #tinhTrang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mucTai" >
        MUC_TAI = #mucTai:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dmDien" >
        DM_DIEN = #dmDien:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="to" >
        TO_VT = #to:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
    update QLDN_THONG_TIN_MAY_NO
    set ID_TRAM = #idTram:VARCHAR#,
      ID_DTXD = #idDtxd:VARCHAR#,
      ATS = #ats:VARCHAR#,
      HIEU_MAY_NO = #hieuMayNo:VARCHAR#,
      CONG_SUAT = #congSuat:VARCHAR#,
      DINH_MUC = #dinhMuc:VARCHAR#,
      SO_HOP_DONG = #soHopDong:VARCHAR#,
      TEN_CHU_NHA = #tenChuNha:VARCHAR#,
      LOAI_NHIEN_LIEU = #loaiNhienLieu:VARCHAR#,
      LOAI_THANH_TOAN = #loaiThanhToan:VARCHAR#,
      NGAY_TAO = #ngayTao:TIMESTAMP#,
      NGUOI_TAO = #nguoiTao:VARCHAR#,
      NGAY_SUA = #ngaySua:TIMESTAMP#,
      NGUOI_SUA = #nguoiSua:VARCHAR#,
      TEN_XHH_VTT = #tenXhhVtt:VARCHAR#,
      GHI_CHU = #ghiChu:VARCHAR#,
      TINH_TRANG = #tinhTrang:VARCHAR#,
      MUC_TAI = #mucTai:VARCHAR#,
       TO_VT = #to:VARCHAR#,
      DM_DIEN = #dmDien:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
  
 <!--  kiem tra thong tin may no da ton tai chua -->
  <select id="checkThongTinMayNo" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.QldnThongTinMayNo" >
    select *
    from QLDN_THONG_TIN_MAY_NO
    where ID_TRAM = #idTram:VARCHAR#
       and ID_DTXD = #idDtxd:VARCHAR#
  </select>
  
  <procedure id="filter" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
  	{
  		call PK_RP_QLDN.GET_MAY_NO(
	  		#p_id_tram,jdbcType=VARCHAR,mode=IN#,
	  		#p_id_dtxd,jdbcType=VARCHAR,mode=IN#,
	  		#p_tinh,jdbcType=VARCHAR,mode=IN#,
	  		#p_to,jdbcType=VARCHAR,mode=IN#,
	  		#p_nhom,jdbcType=VARCHAR,mode=IN#,
	  		#p_loai_thanh_toan,jdbcType=VARCHAR,mode=IN#,
	  		#p_ten_xhh,jdbcType=VARCHAR,mode=IN#,
	  		#p_hieu_may,jdbcType=VARCHAR,mode=IN#,
	  		#p_cong_suat,jdbcType=VARCHAR,mode=IN#,
	  		#p_dinh_muc,jdbcType=VARCHAR,mode=IN#,
	  		#p_ats,jdbcType=VARCHAR,mode=IN#,
	  		#p_data,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
  		)
  	}
  </procedure>
  
   <select id = "getMaxId" resultClass = "Integer">
  	select max(id) from QLDN_THONG_TIN_MAY_NO 
  </select>
  
  <!-- /*Thong ke thong tin may no theo tung loai chi tieu*/ -->
	 <resultMap class="vo.QldnThongTinMayNo" id="ResultMap_ReportSoLuong">
    		<result column="TIEU_CHI" jdbcType="VARCHAR" property="tieuchi" />
		    <result column="SO_LUONG" jdbcType="DECIMAL" property="soLuong" />
		    <result column="TY_LE" jdbcType="DECIMAL" property="tyLe" />
	 </resultMap>
	  <procedure id="getThongKeMayNo" parameterClass="java.util.Map" resultMap="ResultMap_ReportSoLuong">
      {
	      call pk_Qldn_Thong_Tin_May_No.PR_GET_REPORT_TK_TT_MAY_NO
	      (	
	      	#P_TYPE,jdbcType=VARCHAR,mode=IN#,
	      	#p_data,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
	 </procedure>
	 
	 
   <resultMap id="mapListTTMN" class="vo.QldnThongTinMayNo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jul 03 14:28:31 ICT 2017.
    -->
     <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="ID_TRAM" property="idTram" jdbcType="VARCHAR" />
    <result column="ID_DTXD" property="idDtxd" jdbcType="VARCHAR" />
    <result column="TEN_TRAM" property="tenTram" jdbcType="VARCHAR" />
    <result column="TINH" property="tinh" jdbcType="VARCHAR" />
    <result column="TO_VT" property="to" jdbcType="VARCHAR" />
    <result column="NHOM" property="nhom" jdbcType="VARCHAR" />
    <result column="LOAI_THANH_TOAN" property="loaiThanhToan" jdbcType="VARCHAR" />
    <result column="TEN_XHH_VTT" property="tenXhhVtt" jdbcType="VARCHAR" />
    <result column="HIEU_MAY_NO" property="hieuMayNo" jdbcType="VARCHAR" />
    <result column="CONG_SUAT" property="congSuat" jdbcType="VARCHAR" />
    <result column="DINH_MUC" property="dinhMuc" jdbcType="VARCHAR" />
    <result column="LOAI_NHIEN_LIEU" property="loaiNhienLieu" jdbcType="VARCHAR" />
     <result column="DM_DIEN" property="dmDien" jdbcType="VARCHAR" />
    <result column="ATS" property="ats" jdbcType="VARCHAR" />
  </resultMap>
   <procedure id="getList" parameterClass="java.util.Map" resultMap="mapListTTMN">
      {
	     call PK_QLDN_THONG_TIN_MAY_NO.GET_LIST
  	(
  	#p_idTram,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_idDtxd,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_loaiThanhToan,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_tenTram,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_tinh,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_to,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_nhom,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_tenXhhVtt,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_hieuMayNo,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_congSuat,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_dinhMuc,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_loaiNhienLieu,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_ats,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
  	#p_data,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
  	)
      }
 </procedure> 
</sqlMap>