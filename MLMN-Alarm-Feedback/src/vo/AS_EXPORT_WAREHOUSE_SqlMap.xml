<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="AS_EXPORT_WAREHOUSE" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="ID_ASSETS" property="idAssets" jdbcType="VARCHAR" />
    <result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR" />
    <result column="SERIAL_NO" property="serialNo" jdbcType="VARCHAR" />
    <result column="UNIT" property="unit" jdbcType="VARCHAR" />
    <result column="VENDOR" property="vendor" jdbcType="VARCHAR" />
    <result column="AMOUNT_EX" property="amountEx" jdbcType="DECIMAL" />
    <result column="EXPORT_DATE" property="exportDate" jdbcType="TIMESTAMP" />
    <result column="VOTES_NO" property="votesNo" jdbcType="VARCHAR" />
    <result column="USERS_EX" property="usersEx" jdbcType="VARCHAR" />
    <result column="AMOUNT_RETURN" property="amountReturn" jdbcType="DECIMAL" />
    <result column="DATE_RETURN" property="dateReturn" jdbcType="TIMESTAMP" />
    <result column="DEPARTMENT_ID" property="departmentId" jdbcType="VARCHAR" />
    <result column="USERS" property="users" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="CREATED_BY" property="createdBy" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="TIMESTAMP" />
    <result column="MODIFIED_BY" property="modifiedBy" jdbcType="VARCHAR" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="TIMESTAMP" />
    <result column="ORGANIZATION" property="organization" jdbcType="VARCHAR" /> 
    <result column="LY_DO_XUAT" property="lyDoXuat" jdbcType="VARCHAR" />
    <result column="NGUON_LAY_TB" property="nguonLayTB" jdbcType="VARCHAR" />
    <result column="ROWNUM" property="rownum" jdbcType="VARCHAR" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    select ID,ID_ASSETS,PRODUCT_CODE, ASSETS_NAME AS PRODUCT_NAME,SERIAL_NO, UNIT, VENDOR, AMOUNT_EX, EXPORT_DATE, VOTES_NO, USERS_EX,
      AMOUNT_RETURN, DATE_RETURN, DEPARTMENT_ID, USERS, DESCRIPTION, CREATED_BY, CREATE_DATE,
      MODIFIED_BY, MODIFY_DATE,MODIFY_DATE,ORGANIZATION,LY_DO_XUAT,NGUON_LAY_TB,ROWNUM
    from V_ASSETS_EXPORT_WAREHOUSE
    where ID = #id:VARCHAR#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    delete from AS_EXPORT_WAREHOUSE
    where ID = #id:VARCHAR#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    insert into AS_EXPORT_WAREHOUSE (ID_ASSETS,PRODUCT_CODE, SERIAL_NO, UNIT, VENDOR, AMOUNT_EX,
      EXPORT_DATE, VOTES_NO, USERS_EX, AMOUNT_RETURN, DATE_RETURN, DEPARTMENT_ID, USERS,
      DESCRIPTION, CREATED_BY, CREATE_DATE,ORGANIZATION,LY_DO_XUAT,NGUON_LAY_TB, BAO_GOM_THIET_BI)
    values (#idAssets:VARCHAR#, #productCode:VARCHAR#, #serialNo:VARCHAR#, #unit:VARCHAR#,
      #vendor:VARCHAR#, #amountEx:DECIMAL#, #exportDate:TIMESTAMP#, #votesNo:VARCHAR#,
      #usersEx:VARCHAR#, #amountReturn:DECIMAL#, #dateReturn:TIMESTAMP#, #departmentId:VARCHAR#,
      #users:VARCHAR#, #description:VARCHAR#, #createdBy:VARCHAR#, SYSDATE,#organization:VARCHAR#,
      #lyDoXuat:VARCHAR#,#nguonLayTB:VARCHAR#, #baoGomTB:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    insert into AS_EXPORT_WAREHOUSE
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      <isNotNull prepend="," property="idAssets" >
        ID_ASSETS
      </isNotNull>
      <isNotNull prepend="," property="productCode" >
        PRODUCT_CODE
      </isNotNull>
      <isNotNull prepend="," property="serialNo" >
        SERIAL_NO
      </isNotNull>
      <isNotNull prepend="," property="unit" >
        UNIT
      </isNotNull>
      <isNotNull prepend="," property="vendor" >
        VENDOR
      </isNotNull>
      <isNotNull prepend="," property="amountEx" >
        AMOUNT_EX
      </isNotNull>
      <isNotNull prepend="," property="exportDate" >
        EXPORT_DATE
      </isNotNull>
      <isNotNull prepend="," property="votesNo" >
        VOTES_NO
      </isNotNull>
      <isNotNull prepend="," property="usersEx" >
        USERS_EX
      </isNotNull>
      <isNotNull prepend="," property="amountReturn" >
        AMOUNT_RETURN
      </isNotNull>
      <isNotNull prepend="," property="dateReturn" >
        DATE_RETURN
      </isNotNull>
      <isNotNull prepend="," property="departmentId" >
        DEPARTMENT_ID
      </isNotNull>
      <isNotNull prepend="," property="users" >
        USERS
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        CREATED_BY
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        MODIFIED_BY
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        MODIFY_DATE
      </isNotNull>
      <isNotNull prepend="," property="organization" >
        ORGANIZATION
      </isNotNull>
      <isNotNull prepend="," property="lyDoXuat" >
        LY_DO_XUAT
      </isNotNull>
      <isNotNull prepend="," property="nguonLayTB" >
        NGUON_LAY_TB
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        #id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="idAssets" >
        #idAssets:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="productCode" >
        #productCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="serialNo" >
        #serialNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="unit" >
        #unit:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vendor" >
        #vendor:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountEx" >
        #amountEx:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="exportDate" >
        #exportDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="votesNo" >
        #votesNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="usersEx" >
        #usersEx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountReturn" >
        #amountReturn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="dateReturn" >
        #dateReturn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="departmentId" >
        #departmentId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="users" >
        #users:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="organization" >
        #organization:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="lyDoXuat" >
        #lyDoXuat:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguonLayTB" >
        #nguonLayTB:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    update AS_EXPORT_WAREHOUSE
    <dynamic prepend="set" >
    <isNotNull prepend="," property="idAssets" >
        ID_ASSETS = #idAssets:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="productCode" >
        PRODUCT_CODE = #productCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="serialNo" >
        SERIAL_NO = #serialNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="unit" >
        UNIT = #unit:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vendor" >
        VENDOR = #vendor:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountEx" >
        AMOUNT_EX = #amountEx:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="exportDate" >
        EXPORT_DATE = #exportDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="votesNo" >
        VOTES_NO = #votesNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="usersEx" >
        USERS_EX = #usersEx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountReturn" >
        AMOUNT_RETURN = #amountReturn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="dateReturn" >
        DATE_RETURN = #dateReturn:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="departmentId" >
        DEPARTMENT_ID = #departmentId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="users" >
        USERS = #users:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION = #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        CREATED_BY = #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE = #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        MODIFIED_BY = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        MODIFY_DATE = #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="organization" >
        ORGANIZATION = #organization:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="lyDoXuat" >
        LY_DO_XUAT = #lyDoXuat:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nguonLayTB" >
        NGUON_LAY_TB = #nguonLayTB:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    update AS_EXPORT_WAREHOUSE
    set ID_ASSETS = #idAssets:VARCHAR#,
    	PRODUCT_CODE = #productCode:VARCHAR#,
      SERIAL_NO = #serialNo:VARCHAR#,
      UNIT = #unit:VARCHAR#,
      VENDOR = #vendor:VARCHAR#,
      AMOUNT_EX = #amountEx:DECIMAL#,
      EXPORT_DATE = #exportDate:TIMESTAMP#,
      VOTES_NO = #votesNo:VARCHAR#,
      USERS_EX = #usersEx:VARCHAR#,
      AMOUNT_RETURN = #amountReturn:DECIMAL#,
      DATE_RETURN = #dateReturn:TIMESTAMP#,
      DEPARTMENT_ID = #departmentId:VARCHAR#,
      USERS = #users:VARCHAR#,
      DESCRIPTION = #description:VARCHAR#,
      CREATED_BY = #createdBy:VARCHAR#,
      CREATE_DATE = #createDate:TIMESTAMP#,
      MODIFIED_BY = #modifiedBy:VARCHAR#,
      MODIFY_DATE = #modifyDate:TIMESTAMP#,
      ORGANIZATION = #organization:VARCHAR#,
      LY_DO_XUAT = #lyDoXuat:VARCHAR#
      NGUON_LAY_TB = #nguonLayTB:VARCHAR#
    where ID = #id:VARCHAR#
  </update>
  
  <resultMap id="ResultMap_Filter" class="vo.AsExportWarehouse" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Apr 23 17:22:40 ICT 2013.
    -->
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="ID_ASSETS" property="idAssets" jdbcType="VARCHAR" />
    <result column="PRODUCT_CODE" property="productCode" jdbcType="VARCHAR" />
    <result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR" />
    <result column="SERIAL_NO" property="serialNo" jdbcType="VARCHAR" />
    <result column="UNIT" property="unit" jdbcType="VARCHAR" />
    <result column="VENDOR" property="vendor" jdbcType="VARCHAR" />
    <result column="AMOUNT_EX" property="amountEx" jdbcType="DECIMAL" />
    <result column="EXPORT_DATE" property="exportDate" jdbcType="TIMESTAMP" />
    <result column="VOTES_NO" property="votesNo" jdbcType="VARCHAR" />
    <result column="USERS_EX" property="usersEx" jdbcType="VARCHAR" />
    <result column="AMOUNT_RETURN" property="amountReturn" jdbcType="DECIMAL" />
    <result column="DATE_RETURN" property="dateReturn" jdbcType="TIMESTAMP" />
    <result column="DEPARTMENT_ID" property="departmentId" jdbcType="VARCHAR" />
    <result column="USERS" property="users" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="CREATED_BY" property="createdBy" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="TIMESTAMP" />
    <result column="MODIFIED_BY" property="modifiedBy" jdbcType="VARCHAR" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="TIMESTAMP" />
    <result column="ORGANIZATION" property="organization" jdbcType="VARCHAR" /> 
    <result column="LY_DO_XUAT" property="lyDoXuat" jdbcType="VARCHAR" />
    <result column="NGUON_LAY_TB" property="nguonLayTB" jdbcType="VARCHAR" />
    <result column="BAO_GOM_THIET_BI" property="baoGomTB" jdbcType="VARCHAR" />
    <result column="ROWNUM" property="rownum" jdbcType="VARCHAR" />
  </resultMap>
  
  <procedure id="getAsExportWarehouse" parameterClass="java.util.Map" resultMap="ResultMap_Filter">
      {
	      call PK_AS_EXPORT_WAREHOUSE.pr_as_export_warehouse_get
	      (
	      	#p_assetsName,jdbcType=VARCHAR,mode=IN#,
	      	#p_asTypesName,jdbcType=VARCHAR,mode=IN#,
	      	#p_departmentId,jdbcType=VARCHAR,mode=IN#,
	      	#p_edate,jdbcType=VARCHAR,mode=IN#,
			#p_id,jdbcType=VARCHAR,mode=IN#,
			#p_organization,jdbcType=VARCHAR,mode=IN#,
			#p_productCode,jdbcType=VARCHAR,mode=IN#,
			#p_sdate,jdbcType=VARCHAR,mode=IN#,
			#p_serialNo,jdbcType=VARCHAR,mode=IN#,
			#p_vendor,jdbcType=VARCHAR,mode=IN#,
			#p_sophieu,jdbcType=VARCHAR,mode=IN#,
			#p_nguoiSD,jdbcType=VARCHAR,mode=IN#,
			
			#p_column,jdbcType=VARCHAR,mode=IN#,
			#p_order,jdbcType=DECIMAL,mode=IN#,
			#p_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
  <resultMap class="vo.SYS_PARAMETER" id="resultSysParameter">
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="CODE" jdbcType="NVARCHAR" property="code" />
    <result column="NAME" jdbcType="NVARCHAR" property="name" />
    <result column="VALUE" jdbcType="NVARCHAR" property="value" />
    <result column="ORDERING" jdbcType="DECIMAL" property="ordering" />
    <result column="DATA_TYPE" jdbcType="NVARCHAR" property="dataType" />
    <result column="CREATED_BY" jdbcType="NVARCHAR" property="createdBy" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="MODIFIED_BY" jdbcType="NVARCHAR" property="modifiedBy" />
    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
    <result column="REMARK" jdbcType="NVARCHAR" property="remark" />
  </resultMap>
  
  <procedure id="titleForm" resultMap="resultSysParameter">
      {
      	call PK_AS_EXPORT_WAREHOUSE.title_as_export_warehouse
      	( 
      		#TYPE_FORM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
      	)
      }
 </procedure> 
 
  <select id="getProductCode" resultClass="String" parameterClass="String" >
    select distinct PRODUCT_CODE from AS_IMPORT_WAREHOUSE 
    order by PRODUCT_CODE asc
  </select>   
  
  <select id="getMataisan" resultClass="String" parameterClass="String"> 
    
    select distinct PRODUCT_CODE from AS_IMPORT_WAREHOUSE
    where PRODUCT_CODE like '%' || UPPER(#value#) || '%'
    order by PRODUCT_CODE asc
  </select>
  
    <resultMap class="vo.AsImportWarehouse" id="resultImportWarehouse">

    <result column="PRODUCT_CODE" jdbcType="VARCHAR" property="productCode" />
    <result column="UNIT" jdbcType="VARCHAR" property="unit" />
    <result column="PRODUCT_NAME" jdbcType="VARCHAR" property="productName" />
  </resultMap>
  
   <procedure id="getAllByProCode" resultMap="resultImportWarehouse">
	      {
	      	call PK_AS_EXPORT_WAREHOUSE.get_import_by_pro_code
	      	(
	      		#P_PRODUCT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure> 
  
  <resultMap class="vo.AsImportWarehouse" id="resultSeriNoByProCode">

    <result column="SERIAL_NO" jdbcType="VARCHAR" property="serialNo" />
  </resultMap>
  
   <procedure id="getSeriNoByProCode" resultMap="resultSeriNoByProCode">
	      {
	      	call PK_AS_EXPORT_WAREHOUSE.get_serialno_by_pro_code
	      	(
	      		#P_PRODUCT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure> 
  
  <resultMap class="vo.AsImportWarehouse" id="resultAmountImportWare"> 
    <result column="AMOUNT" jdbcType="DECIMAL" property="amount" /> 
  </resultMap>
  
  <procedure id="getAmountByProCode" resultMap="resultAmountImportWare">
	      {
	      	call PK_AS_EXPORT_WAREHOUSE.get_amount_by_pro_code
	      	(
	      		#P_PRODUCT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_IMPORT_DATE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure> 
  
  <resultMap id="resultAmountExportWare" class="vo.AsExportWarehouse" > 
    <result column="AMOUNT_EX" property="amountEx" jdbcType="DECIMAL" /> 
    <result column="AMOUNT_RETURN" property="amountReturn" jdbcType="DECIMAL" /> 
  </resultMap>
  
   <procedure id="getAmountExByProCode" resultMap="resultAmountExportWare">
	      {
	      	call PK_AS_EXPORT_WAREHOUSE.get_amountEx_by_pro_code
	      	(
	      		#P_SERIAL,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_PRODUCT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
</sqlMap>