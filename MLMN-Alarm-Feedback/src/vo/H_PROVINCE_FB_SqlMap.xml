<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="H_PROVINCE_FB" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="REGION" property="region" jdbcType="VARCHAR" />
    <result column="CODE" property="code" jdbcType="VARCHAR" />
    <result column="PROVINCE" property="province" jdbcType="VARCHAR" />
    <result column="MARKS" property="marks" jdbcType="VARCHAR" />
    <result column="DISTRICT" property="district" jdbcType="VARCHAR" />
    <result column="LOCATION" property="location" jdbcType="VARCHAR" />
    <result column="BRANCH" property="branch" jdbcType="VARCHAR" />
    <result column="DISTRICT_NAME" property="districtName" jdbcType="VARCHAR" />
    <result column="DEPT_CODE" property="deptCode" jdbcType="VARCHAR" />
    <result column="ORDERING" property="ordering" jdbcType="DECIMAL" />
    <result column="TEAM" property="team" jdbcType="VARCHAR" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    select ID, REGION, CODE, PROVINCE, MARKS, DISTRICT, LOCATION, BRANCH, DISTRICT_NAME, DEPT_CODE,
      ORDERING, TEAM
    from H_PROVINCE_FB
    where ID = #id:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    delete from H_PROVINCE_FB
    where ID = #id:DECIMAL#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    insert into H_PROVINCE_FB (REGION, CODE, PROVINCE, MARKS, DISTRICT, LOCATION, BRANCH,
      DISTRICT_NAME, DEPT_CODE, ORDERING, TEAM)
    values (#region:VARCHAR#, #code:VARCHAR#, #province:VARCHAR#, #marks:VARCHAR#,
      #district:VARCHAR#, #location:VARCHAR#, #branch:VARCHAR#, #districtName:VARCHAR#,
      #deptCode:VARCHAR#, #ordering:DECIMAL#, #team:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    insert into H_PROVINCE_FB
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      <isNotNull prepend="," property="region" >
        REGION
      </isNotNull>
      <isNotNull prepend="," property="code" >
        CODE
      </isNotNull>
      <isNotNull prepend="," property="province" >
        PROVINCE
      </isNotNull>
      <isNotNull prepend="," property="marks" >
        MARKS
      </isNotNull>
      <isNotNull prepend="," property="district" >
        DISTRICT
      </isNotNull>
      <isNotNull prepend="," property="location" >
        LOCATION
      </isNotNull>
      <isNotNull prepend="," property="branch" >
        BRANCH
      </isNotNull>
      <isNotNull prepend="," property="districtName" >
        DISTRICT_NAME
      </isNotNull>
      <isNotNull prepend="," property="deptCode" >
        DEPT_CODE
      </isNotNull>
      <isNotNull prepend="," property="ordering" >
        ORDERING
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="region" >
        #region:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="code" >
        #code:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="province" >
        #province:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="marks" >
        #marks:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="district" >
        #district:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="location" >
        #location:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="branch" >
        #branch:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="districtName" >
        #districtName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="deptCode" >
        #deptCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ordering" >
        #ordering:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    update H_PROVINCE_FB
    <dynamic prepend="set" >
      <isNotNull prepend="," property="region" >
        REGION = #region:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="code" >
        CODE = #code:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="province" >
        PROVINCE = #province:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="marks" >
        MARKS = #marks:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="district" >
        DISTRICT = #district:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="location" >
        LOCATION = #location:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="branch" >
        BRANCH = #branch:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="districtName" >
        DISTRICT_NAME = #districtName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="deptCode" >
        DEPT_CODE = #deptCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ordering" >
        ORDERING = #ordering:DECIMAL#
      </isNotNull>
    </dynamic>
    where ID = #id:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vo.HProvinceFb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 28 16:01:26 ICT 2013.
    -->
    update H_PROVINCE_FB
    set REGION = #region:VARCHAR#,
      CODE = #code:VARCHAR#,
      PROVINCE = #province:VARCHAR#,
      MARKS = #marks:VARCHAR#,
      DISTRICT = #district:VARCHAR#,
      LOCATION = #location:VARCHAR#,
      BRANCH = #branch:VARCHAR#,
      DISTRICT_NAME = #districtName:VARCHAR#,
      DEPT_CODE = #deptCode:VARCHAR#,
      ORDERING = #ordering:DECIMAL#,
      TEAM = #team:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
  
  <procedure id="selectProvincesCode" resultMap="ibatorgenerated_BaseResultMap">
	      {
	      	call PK_FB_PROCESS_MLMN.SELECT_PROVINCES_CODE
	      	(
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <procedure id="getProvinceFbByDeptCode" resultMap="ibatorgenerated_BaseResultMap">
	      {
	      	call PK_FB_PROCESS_MLMN.GET_PROVINCE_FB_BY_DEPT_CODE
	      	(
	      		#P_DEPT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <resultMap class="vo.HProvinceFb" id="resultMapDistrict">
	    <result column="DISTRICT" jdbcType="VARCHAR" property="district" />
	    <result column="DISTRICT_NAME" jdbcType="VARCHAR" property="districtName" />
	    <!-- <result column="ORDERING" property="ordering" jdbcType="DECIMAL" /> -->
 </resultMap>
  <procedure id="getDistrictCodeList" parameterClass="java.util.Map" resultMap="resultMapDistrict">
      {
	      call pk_h_provinces_code.PR_GET_DISTRICT
	      (
	      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
	      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 <resultMap class="vo.HProvinceFb" id="resultMapDistinctProvinceCode">
    <result column="CODE" jdbcType="VARCHAR" property="code" />
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
  </resultMap>
  <procedure id="distinctProvinceCode" resultMap="resultMapDistinctProvinceCode">
	      {
	      	call pk_h_provinces_code.DISTINCT_PROVINCE_CODE
	      	(
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <resultMap class="vo.SYS_PARAMETER" id="resultTitleForm">
	    <result column="ID" jdbcType="DECIMAL" property="id" />
	    <result column="CODE" jdbcType="NVARCHAR" property="code" />
	    <result column="NAME" jdbcType="NVARCHAR" property="name" />
	    <result column="VALUE" jdbcType="NVARCHAR" property="value" />
	    <result column="ORDERING" jdbcType="DECIMAL" property="ordering" />
	    <result column="DATA_TYPE" jdbcType="NVARCHAR" property="dataType" />
	    <result column="CREATED_BY" jdbcType="NVARCHAR" property="createdBy" />
	    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
	    <result column="MODIFIED_BY" jdbcType="NVARCHAR" property="modifiedBy" />
	    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
	    <result column="REMARK" jdbcType="NVARCHAR" property="remark" />
	  </resultMap>
    <procedure id="titleForm" resultMap="resultTitleForm">
	      {
	      	call pk_h_provinces_code.PR_GET_TITLE_H_PROVINCE_FB
	      	(
	      		#P_TYPE_FORM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <resultMap class="vo.HProvinceFb" id="resultMapFilter">
	    <result column="ID" jdbcType="DECIMAL" property="id" />
	    <result column="CODE" jdbcType="VARCHAR" property="code" />
	    <result column="REGION" jdbcType="VARCHAR" property="region" />
	    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
	    <result column="MARKS" jdbcType="VARCHAR" property="marks" />
	    <result column="DISTRICT" jdbcType="VARCHAR" property="district" />
	    <result column="LOCATION" jdbcType="VARCHAR" property="location" />
	    <result column="BRANCH" jdbcType="VARCHAR" property="branch" />
	    <result column="DISTRICT_NAME" jdbcType="VARCHAR" property="districtName" />
	    <result column="DEPT_CODE" jdbcType="VARCHAR" property="deptCode" />
	    <result column="ORDERING" jdbcType="DECIMAL" property="ordering" />
	    <result column="TEAM" jdbcType="VARCHAR" property="team" />
  </resultMap>
   <procedure id="getProvinceList" parameterClass="java.util.Map" resultMap="resultMapFilter">
      {
	      call pk_h_provinces_code.PR_H_PROVINCE_FB_GET
	      (
	      	#P_CODE,jdbcType=VARCHAR,mode=IN#,
	      	#P_DISTRICT,jdbcType=VARCHAR,mode=IN#,
	      	#P_LOCATION,jdbcType=VARCHAR,mode=IN#,
	      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
	      	#P_BRANCH,jdbcType=VARCHAR,mode=IN#,
	      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
	      	#P_DEPT_CODE,jdbcType=VARCHAR,mode=IN#,
			#P_COLUMN,jdbcType=VARCHAR,mode=IN#,
			#P_ORDER,jdbcType=DECIMAL,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 <procedure id="regionList" resultMap="resultTitleForm">
	      {
	      	call pk_h_provinces_code.PR_GET_REGION
	      	(
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <procedure id="checkExits" parameterClass="java.util.Map" resultMap="resultMapFilter">
      {
	      call pk_h_provinces_code.PR_H_PROVINCE_FB_CHECK
	      (
	      	#P_CODE,jdbcType=VARCHAR,mode=IN#,
	      	#P_DISTRICT,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
  <procedure id="getProviceByDistrictAndProvince" parameterClass="java.util.Map" resultMap="resultMapFilter">
      {
	      call pk_h_provinces_code.PR_H_PROVINCE_FB_CHECK_NAME
	      (
	      	#P_PROVINCE,jdbcType=VARCHAR,mode=IN#,
	      	#P_DISTRICT_NAME,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
 
 	<resultMap class="vo.HProvinceFb" id="resultTeamFbList">
	    <result column="TEAM" jdbcType="NVARCHAR" property="team" />
	</resultMap>
    <procedure id="getTeamFbList" resultMap="resultTeamFbList">
	      {
	      	call PK_FB_PROCESS_MLMN.GET_TEAM_FB_LIST
	      	(
	      		#P_DEPT_CODE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <resultMap class="vo.HProvinceFb" id="resultMapgetProvinceList">
    <result column="CODE" jdbcType="VARCHAR" property="code" />
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
  </resultMap>
  <procedure id="getProvinceForFbWeekList" resultMap="resultMapgetProvinceList">
	      {
	      	call PK_FB_PROCESS_REPORT_MLMN.GET_PROVINCE_FOR_FB_WEEK_LIST
	      	(
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  <resultMap class="vo.HProvinceFb" id="resultMapDataFeedbackWeek">
    <result column="CODE" jdbcType="VARCHAR" property="code" />
    <result column="PROVINCE" jdbcType="VARCHAR" property="province" />
    <result column="QTY" property="qty" jdbcType="DECIMAL" />
  </resultMap>
  <procedure id="getDataForFeedbackWeek" resultMap="resultMapDataFeedbackWeek">
	      {
	      	call PK_FB_PROCESS_REPORT_MLMN.GET_DATA_FOR_FEEDBACK_WEEK
	      	( 
		      	#P_SEND_TELECOM,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
		      	#P_USER_NAME,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_START_DATE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_END_DATE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_FB_TYPE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
  
 <!--  LAY DANH SACH TINH THANH PHO THEO KHU VUC -->
   <procedure id="getProvinceByRegion" resultMap="resultMapDistinctProvinceCode">
	      {
	      	call pk_h_provinces_code.PR_GET_PROVINCE_BY_REGION
	      	(
	      		#P_REGION,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  
   <!--  LAY DANH SACH QUAN HUYEN THEO KHU VUC, THANH PHO -->
   <procedure id="getDistrictByRegionProvine" resultMap="ibatorgenerated_BaseResultMap">
	      {
	      	call pk_h_provinces_code.PR_GET_DISTRICT_BY_REGION
	      	(
	      		#P_REGION,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_PROVINCE,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
	      		#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  <select id="getAllProvince" resultClass="String">
  	select distinct province from H_PROVINCE_FB where province is not null
  </select>
</sqlMap>