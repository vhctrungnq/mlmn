<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="V_RP_HR_BSC_HO_IBC">
  <resultMap class="vn.com.vhc.vmsc2.statistics.domain.VRpHrBscHoIbc" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 14:04:26 ICT 2011.
    -->
    <result column="DAY" jdbcType="DATE" property="day" />
    <result column="HOUR" jdbcType="DECIMAL" property="hour" />
    <result column="REGION" jdbcType="VARCHAR" property="region" />
    <result column="MSCID" jdbcType="VARCHAR" property="mscid" />
    <result column="BSCID" jdbcType="VARCHAR" property="bscid" />
    <result column="OG_HO_ATT" jdbcType="DECIMAL" property="ogHoAtt" />
    <result column="OG_HO_SUC" jdbcType="DECIMAL" property="ogHoSuc" />
    <result column="OG_HO_SUCR" jdbcType="DECIMAL" property="ogHoSucr" />
    <result column="IN_HO_ATT" jdbcType="DECIMAL" property="inHoAtt" />
    <result column="IN_HO_SUC" jdbcType="DECIMAL" property="inHoSuc" />
    <result column="IN_HO_SUCR" jdbcType="DECIMAL" property="inHoSucr" />
    <result column="HO_ATT" jdbcType="DECIMAL" property="hoAtt" />
    <result column="HO_SUC" jdbcType="DECIMAL" property="hoSuc" />
    <result column="HO_SUCR" jdbcType="DECIMAL" property="hoSucr" />
    <result column="HO_REV" jdbcType="DECIMAL" property="hoRev" />
    <result column="HO_LOST" jdbcType="DECIMAL" property="hoLost" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VRpHrBscHoIbc">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 14:04:26 ICT 2011.
    -->
    insert into V_RP_HR_BSC_HO_IBC (DAY, HOUR, REGION, MSCID, BSCID, OG_HO_ATT, OG_HO_SUC, OG_HO_SUCR,
      IN_HO_ATT, IN_HO_SUC, IN_HO_SUCR, HO_ATT, HO_SUC, HO_SUCR, HO_REV, HO_LOST)
    values (#day:DATE#, #hour:DECIMAL#, #region:VARCHAR#, #mscid:VARCHAR#, #bscid:VARCHAR#,
      #ogHoAtt:DECIMAL#, #ogHoSuc:DECIMAL#, #ogHoSucr:DECIMAL#, #inHoAtt:DECIMAL#,
      #inHoSuc:DECIMAL#, #inHoSucr:DECIMAL#, #hoAtt:DECIMAL#, #hoSuc:DECIMAL#, #hoSucr:DECIMAL#,
      #hoRev:DECIMAL#, #hoLost:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VRpHrBscHoIbc">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jan 12 14:04:26 ICT 2011.
    -->
    insert into V_RP_HR_BSC_HO_IBC
    <dynamic prepend="(">
      <isNotNull prepend="," property="day">
        DAY
      </isNotNull>
      <isNotNull prepend="," property="hour">
        HOUR
      </isNotNull>
      <isNotNull prepend="," property="region">
        REGION
      </isNotNull>
      <isNotNull prepend="," property="mscid">
        MSCID
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        BSCID
      </isNotNull>
      <isNotNull prepend="," property="ogHoAtt">
        OG_HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="ogHoSuc">
        OG_HO_SUC
      </isNotNull>
      <isNotNull prepend="," property="ogHoSucr">
        OG_HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="inHoAtt">
        IN_HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="inHoSuc">
        IN_HO_SUC
      </isNotNull>
      <isNotNull prepend="," property="inHoSucr">
        IN_HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="hoAtt">
        HO_ATT
      </isNotNull>
      <isNotNull prepend="," property="hoSuc">
        HO_SUC
      </isNotNull>
      <isNotNull prepend="," property="hoSucr">
        HO_SUCR
      </isNotNull>
      <isNotNull prepend="," property="hoRev">
        HO_REV
      </isNotNull>
      <isNotNull prepend="," property="hoLost">
        HO_LOST
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="day">
        #day:DATE#
      </isNotNull>
      <isNotNull prepend="," property="hour">
        #hour:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="region">
        #region:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mscid">
        #mscid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bscid">
        #bscid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ogHoAtt">
        #ogHoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="ogHoSuc">
        #ogHoSuc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="ogHoSucr">
        #ogHoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inHoAtt">
        #inHoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inHoSuc">
        #inHoSuc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inHoSucr">
        #inHoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoAtt">
        #hoAtt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoSuc">
        #hoSuc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoSucr">
        #hoSucr:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoRev">
        #hoRev:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="hoLost">
        #hoLost:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
  <cacheModel id="VRpHrBscHoIbc-Cache" readOnly="true" serialize="false" type="LRU">
	  <flushInterval hours="12" />
	  <flushOnExecute statement="H_BSC.ibatorgenerated_insert" />
	  <flushOnExecute statement="H_BSC.ibatorgenerated_updateByPrimaryKey" />
	  <flushOnExecute statement="H_BSC.ibatorgenerated_deleteByPrimaryKey" />
	  <property name="cache-size" value="1000" />
  </cacheModel>
  
  <parameterMap class="java.util.Map" id="filterHrBscHo">
    <parameter property="bscid" />
    <parameter property="startHour" />
    <parameter property="endHour" />
    <parameter property="day" />
    <parameter property="region" />
  </parameterMap>
  
  <select id="filterDetails" parameterMap="filterHrBscHo" resultMap="ibatorgenerated_BaseResultMap">
    select *
    from V_RP_HR_BSC_HO_IBC
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="bscid">
        UPPER(BSCID) = UPPER(#bscid:VARCHAR#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="startHour">
        HOUR <![CDATA[ >= ]]> to_number(#startHour#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endHour">
        HOUR <![CDATA[ <= ]]> to_number(#endHour#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="day">
        DAY = to_date(#day#, 'DD/MM/YYYY')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="region">
        UPPER(REGION) = UPPER(#region:VARCHAR#)
      </isNotEmpty>
    </dynamic>
    order by REGION, DAY,HOUR asc
  </select>
</sqlMap>