<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="C_SYSTEM_CONFIGS" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="PARAM_NAME" property="paramName" jdbcType="VARCHAR" />
    <result column="PARAM_VALUE" property="paramValue" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="CONFIG_TYPE" property="configType" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ibatorgenerated_BaseResultMap1" class="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="PARAM_NAME" property="paramName" jdbcType="VARCHAR" />
    <result column="PARAM_VALUE" property="paramValue" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="TRANG_THAI" property="trangthai" jdbcType="VARCHAR" />
   </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    select ID, PARAM_NAME, PARAM_VALUE, DESCRIPTION, CONFIG_TYPE
    from C_SYSTEM_CONFIGS
    where ID = #id:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    delete from C_SYSTEM_CONFIGS
    where ID = #id:DECIMAL#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    insert into C_SYSTEM_CONFIGS (ID, PARAM_NAME, PARAM_VALUE, DESCRIPTION, CONFIG_TYPE)
    values (#id:DECIMAL#, #paramName:VARCHAR#, #paramValue:VARCHAR#, #description:VARCHAR#, #configType:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    insert into C_SYSTEM_CONFIGS
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      <isNotNull prepend="," property="paramName" >
        PARAM_NAME
      </isNotNull>
      <isNotNull prepend="," property="paramValue" >
        PARAM_VALUE
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION
      </isNotNull>
      <isNotNull prepend="," property="configType" >
        CONFIG_TYPE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="id" >
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="paramName" >
        #paramName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="paramValue" >
        #paramValue:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="configType" >
        #configType:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    update C_SYSTEM_CONFIGS
    <dynamic prepend="set" >
      <isNotNull prepend="," property="paramName" >
        PARAM_NAME = #paramName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="paramValue" >
        PARAM_VALUE = #paramValue:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION = #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="configType" >
        CONFIG_TYPE = #configType:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 25 10:05:59 ICT 2010.
    -->
    update C_SYSTEM_CONFIGS
    set  
      PARAM_NAME  = #paramName:VARCHAR#,
      PARAM_VALUE = #paramValue:VARCHAR#,
      DESCRIPTION = #description:VARCHAR#,
      CONFIG_TYPE = #configType:VARCHAR#
    where ID = #id:DECIMAL#
  </update>
  
  <select id="getAll" resultMap="ibatorgenerated_BaseResultMap">
	select p.*, t.TRANG_THAI
	FROM C_SYSTEM_CONFIGS p, SYS_PARAMETERS t
    Where 	 p.CONFIG_TYPE = t.Ma_TT 	
    order by UPPER(PARAM_NAME) asc
  </select>
  
  <select id="filter" resultMap="ibatorgenerated_BaseResultMap1" parameterClass="vn.com.vhc.vmsc2.statistics.web.filter.SystemConfigFilter" >
    Select p.*, t.TRANG_THAI
    	FROM C_SYSTEM_CONFIGS p, SYS_PARAMETERS t
     	Where 	 p.CONFIG_TYPE = t.Ma_TT 	
    <dynamic prepend="and" >
      <isNotNull prepend="and" property="paramName" >
       	UPPER(p.PARAM_NAME) like '%' || UPPER(#paramName:VARCHAR#) || '%'
      </isNotNull>
      <isNotNull prepend="and" property="paramValue">
        UPPER(p.PARAM_VALUE) like '%' || UPPER(#paramValue:VARCHAR#) || '%'
      </isNotNull>
       <isNotNull prepend="and" property="configType" >
        UPPER(p.CONFIG_TYPE) like '%' || UPPER(#configType:VARCHAR#) || '%'
      </isNotNull>
    </dynamic>
    order by UPPER(p.PARAM_NAME), UPPER(p.CONFIG_TYPE) asc
  </select>
  
  <select id="exitSystemConfig" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SystemConfig" >
    select *
    from C_SYSTEM_CONFIGS
    where PARAM_NAME = #paramName:VARCHAR#
    order by UPPER(PARAM_NAME) asc
  </select>
  
</sqlMap>
