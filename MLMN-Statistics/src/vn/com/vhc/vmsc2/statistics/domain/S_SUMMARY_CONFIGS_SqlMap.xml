<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="S_SUMMARY_CONFIGS" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    <result column="CONFIG_ID" property="configId" jdbcType="DECIMAL" />
    <result column="TABLE_NAME" property="tableName" jdbcType="VARCHAR" />
    <result column="COLUMN_NAME" property="columnName" jdbcType="VARCHAR" />
    <result column="DATA_TYPE" property="dataType" jdbcType="VARCHAR" />
    <result column="KEY_COLUMN" property="keyColumn" jdbcType="VARCHAR" />
    <result column="TABLE_SOURCE" property="tableSource" jdbcType="VARCHAR" />
    <result column="FORMULA" property="formula" jdbcType="VARCHAR" />
    <result column="SUMMARY_TYPE" property="summaryType" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
  </resultMap>
   <resultMap id="ibatorgenerated_BaseResultMap1" class="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <result column="CONFIG_ID" property="configId" jdbcType="DECIMAL" />
    <result column="TABLE_NAME" property="tableName" jdbcType="VARCHAR" />
    <result column="COLUMN_NAME" property="columnName" jdbcType="VARCHAR" />
    <result column="DATA_TYPE" property="dataType" jdbcType="VARCHAR" />
    <result column="KEY_COLUMN" property="keyColumn" jdbcType="VARCHAR" />
    <result column="TABLE_SOURCE" property="tableSource" jdbcType="VARCHAR" />
    <result column="FORMULA" property="formula" jdbcType="VARCHAR" />
    <result column="SUMMARY_TYPE" property="summaryType" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="TRANG_THAI" property="trangthai" jdbcType="VARCHAR" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    select CONFIG_ID, TABLE_NAME, COLUMN_NAME, DATA_TYPE, KEY_COLUMN, TABLE_SOURCE, FORMULA,
      SUMMARY_TYPE, DESCRIPTION, STATUS
    from S_SUMMARY_CONFIGS
    where CONFIG_ID = #configId:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    delete from S_SUMMARY_CONFIGS
    where CONFIG_ID = #configId:DECIMAL#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    insert into S_SUMMARY_CONFIGS (CONFIG_ID, TABLE_NAME, COLUMN_NAME, DATA_TYPE, KEY_COLUMN,
      TABLE_SOURCE, FORMULA, SUMMARY_TYPE, DESCRIPTION, STATUS)
    values (#configId:DECIMAL#, #tableName:VARCHAR#, #columnName:VARCHAR#, #dataType:VARCHAR#,
      #keyColumn:VARCHAR#, #tableSource:VARCHAR#, #formula:VARCHAR#, #summaryType:VARCHAR#,
      #description:VARCHAR#, #status:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    insert into S_SUMMARY_CONFIGS
    <dynamic prepend="(" >
      <isNotNull prepend="," property="configId" >
        CONFIG_ID
      </isNotNull>
      <isNotNull prepend="," property="tableName" >
        TABLE_NAME
      </isNotNull>
      <isNotNull prepend="," property="columnName" >
        COLUMN_NAME
      </isNotNull>
      <isNotNull prepend="," property="dataType" >
        DATA_TYPE
      </isNotNull>
      <isNotNull prepend="," property="keyColumn" >
        KEY_COLUMN
      </isNotNull>
      <isNotNull prepend="," property="tableSource" >
        TABLE_SOURCE
      </isNotNull>
      <isNotNull prepend="," property="formula" >
        FORMULA
      </isNotNull>
      <isNotNull prepend="," property="summaryType" >
        SUMMARY_TYPE
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="configId" >
        #configId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="tableName" >
        #tableName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="columnName" >
        #columnName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataType" >
        #dataType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="keyColumn" >
        #keyColumn:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tableSource" >
        #tableSource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="formula" >
        #formula:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="summaryType" >
        #summaryType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    update S_SUMMARY_CONFIGS
    <dynamic prepend="set" >
      <isNotNull prepend="," property="tableName" >
        TABLE_NAME = #tableName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="columnName" >
        COLUMN_NAME = #columnName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataType" >
        DATA_TYPE = #dataType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="keyColumn" >
        KEY_COLUMN = #keyColumn:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tableSource" >
        TABLE_SOURCE = #tableSource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="formula" >
        FORMULA = #formula:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="summaryType" >
        SUMMARY_TYPE = #summaryType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION = #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
    </dynamic>
    where CONFIG_ID = #configId:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    update S_SUMMARY_CONFIGS
    set TABLE_NAME = #tableName:VARCHAR#,
      COLUMN_NAME = #columnName:VARCHAR#,
      DATA_TYPE = #dataType:VARCHAR#,
      KEY_COLUMN = #keyColumn:VARCHAR#,
      TABLE_SOURCE = #tableSource:VARCHAR#,
      FORMULA = #formula:VARCHAR#,
      SUMMARY_TYPE = #summaryType:VARCHAR#,
      DESCRIPTION = #description:VARCHAR#,
      STATUS = #status:VARCHAR#
    where CONFIG_ID = #configId:DECIMAL#
  </update>
  
  <select id="getAll" resultMap="ibatorgenerated_BaseResultMap">
	Select p.*,t.TRANG_THAI
    From S_SUMMARY_CONFIGS p, SYS_PARAMETERS t
    Where	p.STATUS = t.Ma_TT
	order by TABLE_NAME, COLUMN_NAME asc
  </select>
  
  <select id="filter" resultMap="ibatorgenerated_BaseResultMap1" parameterClass="vn.com.vhc.vmsc2.statistics.web.filter.SummaryConfigFilter" >
   	Select p.*,t.TRANG_THAI
    From S_SUMMARY_CONFIGS p, SYS_PARAMETERS t
    Where	p.STATUS = t.Ma_TT
    <dynamic prepend="and" >
      <isNotEmpty prepend="and" property="tableName" >
        UPPER(p.TABLE_NAME) like '%' || UPPER(#tableName:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="tableSource" >
        UPPER(p.TABLE_SOURCE) like '%' || UPPER(#tableSource:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="formula" >
        UPPER(p.FORMULA) like '%' || UPPER(#formula:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="status" >
        UPPER(p.STATUS) = UPPER(#status:VARCHAR#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="summaryType" >
        UPPER(p.SUMMARY_TYPE) like '%' || UPPER(#summaryType:VARCHAR#) || '%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="columnName" >
        UPPER(p.COLUMN_NAME) like '%' || UPPER(#columnName:VARCHAR#) || '%'
      </isNotEmpty>
    </dynamic>
    order by UPPER(p.TABLE_NAME), UPPER(p.COLUMN_NAME)
  </select>
  
   <select id="exitSummaryConfig" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vn.com.vhc.vmsc2.statistics.domain.SummaryConfig" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Sep 07 10:32:18 ICT 2010.
    -->
    select *
    from S_SUMMARY_CONFIGS
    where TABLE_NAME=#tableName:VARCHAR#
    and COLUMN_NAME=#columnName:VARCHAR#
  </select>
</sqlMap>
