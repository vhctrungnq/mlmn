<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="V_HR_IPBB_LINK" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbLink" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:58:36 ICT 2012.
    -->
    <result column="TIME" property="time" jdbcType="TIMESTAMP" />
    <result column="LINK" property="link" jdbcType="VARCHAR" />
    <result column="DIRECTION" property="direction" jdbcType="VARCHAR" />
    <result column="BAND_WIDTH" property="bandWidth" jdbcType="DECIMAL" />
    <result column="IN_KBIT_SECOND" property="inKbitSecond" jdbcType="DECIMAL" />
    <result column="IN_UTILIZATION" property="inUtilization" jdbcType="DECIMAL" />
    <result column="OUT_KBIT_SECOND" property="outKbitSecond" jdbcType="DECIMAL" />
    <result column="OUT_UTILIZATION" property="outUtilization" jdbcType="DECIMAL" />
    <result column="DELAY" property="delay" jdbcType="DECIMAL" />
    <result column="JITTER_SDP" property="jitterSdp" jdbcType="DECIMAL" />
    <result column="JITTER_DSP" property="jitterDsp" jdbcType="DECIMAL" />
    <result column="JITTER_SDN" property="jitterSdn" jdbcType="DECIMAL" />
    <result column="JITTER_DSN" property="jitterDsn" jdbcType="DECIMAL" />
    <result column="LOSS_SD" property="lossSd" jdbcType="DECIMAL" />
    <result column="LOSS_DS" property="lossDs" jdbcType="DECIMAL" />
    <result column="MOS" property="mos" jdbcType="DECIMAL" />
  </resultMap>
  <insert id="ibatorgenerated_insert" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbLink" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:58:36 ICT 2012.
    -->
    insert into V_HR_IPBB_LINK (TIME, LINK, BAND_WIDTH, IN_KBIT_SECOND, IN_UTILIZATION,
      OUT_KBIT_SECOND, OUT_UTILIZATION, DELAY, JITTER_SDP, JITTER_DSP, JITTER_SDN, JITTER_DSN,
      LOSS_SD, LOSS_DS, MOS)
    values (#time:TIMESTAMP#, #link:VARCHAR#, #bandWidth:DECIMAL#, #inKbitSecond:DECIMAL#,
      #inUtilization:DECIMAL#, #outKbitSecond:DECIMAL#, #outUtilization:DECIMAL#, #delay:DECIMAL#,
      #jitterSdp:DECIMAL#, #jitterDsp:DECIMAL#, #jitterSdn:DECIMAL#, #jitterDsn:DECIMAL#,
      #lossSd:DECIMAL#, #lossDs:DECIMAL#, #mos:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vn.com.vhc.vmsc2.statistics.domain.VHrIpbbLink" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 23 09:58:36 ICT 2012.
    -->
    insert into V_HR_IPBB_LINK
    <dynamic prepend="(" >
      <isNotNull prepend="," property="time" >
        TIME
      </isNotNull>
      <isNotNull prepend="," property="link" >
        LINK
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        BAND_WIDTH
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        IN_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        IN_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        OUT_KBIT_SECOND
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        OUT_UTILIZATION
      </isNotNull>
      <isNotNull prepend="," property="delay" >
        DELAY
      </isNotNull>
      <isNotNull prepend="," property="jitterSdp" >
        JITTER_SDP
      </isNotNull>
      <isNotNull prepend="," property="jitterDsp" >
        JITTER_DSP
      </isNotNull>
      <isNotNull prepend="," property="jitterSdn" >
        JITTER_SDN
      </isNotNull>
      <isNotNull prepend="," property="jitterDsn" >
        JITTER_DSN
      </isNotNull>
      <isNotNull prepend="," property="lossSd" >
        LOSS_SD
      </isNotNull>
      <isNotNull prepend="," property="lossDs" >
        LOSS_DS
      </isNotNull>
      <isNotNull prepend="," property="mos" >
        MOS
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="time" >
        #time:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="link" >
        #link:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bandWidth" >
        #bandWidth:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inKbitSecond" >
        #inKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="inUtilization" >
        #inUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outKbitSecond" >
        #outKbitSecond:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="outUtilization" >
        #outUtilization:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="delay" >
        #delay:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="jitterSdp" >
        #jitterSdp:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="jitterDsp" >
        #jitterDsp:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="jitterSdn" >
        #jitterSdn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="jitterDsn" >
        #jitterDsn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="lossSd" >
        #lossSd:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="lossDs" >
        #lossDs:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="mos" >
        #mos:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
   <parameterMap class="java.util.Map" id="filter">
    <parameter property="direction"/>
    <parameter property="link"/>
    <parameter property="startDate" />
    <parameter property="endDate" />
  </parameterMap>
  
   <select id="filter" parameterClass="vn.com.vhc.vmsc2.statistics.web.filter.IPBBFilter" resultMap="ibatorgenerated_BaseResultMap">
    select * 
    From V_HR_IPBB_LINK
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="startDate">
        	TIME <![CDATA[ >= ]]> to_date(#startDate#, 'DD/MM/YYYY HH24:mi:ss')
      </isNotEmpty>
      <isNotEmpty prepend="and" property="endDate">
       		TIME <![CDATA[ <= ]]> to_date(#endDate#, 'DD/MM/YYYY HH24:mi:ss') 
      </isNotEmpty>
      <isNotEmpty prepend="and" property="direction">
       	 	UPPER(DIRECTION)  = UPPER(#direction:varchar#)
      </isNotEmpty>
      <isNotEmpty prepend="and" property="link">
       	 	UPPER(LINK)  = UPPER(#link:varchar#)
      </isNotEmpty>
    </dynamic>
	 Order by TIME 
  </select>
</sqlMap>